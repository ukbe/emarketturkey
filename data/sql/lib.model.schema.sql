

/* EMT_GLOBAL_CONFIG-------------------------------------------------- */

DROP TABLE "EMT_GLOBAL_CONFIG" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_GLOBAL_CONFIG"
(
	"ID" NUMBER(4)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"TYPE" NVARCHAR2(20)  NOT NULL,
	"VALUE" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_GLOBAL_CONFIG"
		ADD CONSTRAINT "EMT_GLOBAL_CONFIG_PK"
	PRIMARY KEY ("ID");


/* EMT_BUSINESS_TYPE-------------------------------------------------- */

DROP TABLE "EMT_BUSINESS_TYPE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_BUSINESS_TYPE_SEQ";


CREATE TABLE "EMT_BUSINESS_TYPE"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_BUSINESS_TYPE"
		ADD CONSTRAINT "EMT_BUSINESS_TYPE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_BUSINESS_TYPE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_BUSINESS_TYPE_I18N-------------------------------------------------- */

DROP TABLE "EMT_BUSINESS_TYPE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_BUSINESS_TYPE_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_BUSINESS_TYPE_I18N"
		ADD CONSTRAINT "EMT_BUSINESS_TYPE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_BUSINESS_TYPE_I18N" ADD CONSTRAINT "EMT_BUSINESS_TYPE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_BUSINESS_TYPE" ("ID") ON DELETE CASCADE;


/* EMT_BUSINESS_SECTOR-------------------------------------------------- */

DROP TABLE "EMT_BUSINESS_SECTOR" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_BUSINESS_SECTOR_SEQ";


CREATE TABLE "EMT_BUSINESS_SECTOR"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_BUSINESS_SECTOR"
		ADD CONSTRAINT "EMT_BUSINESS_SECTOR_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_BUSINESS_SECTOR_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_BUSINESS_SECTOR_I18N-------------------------------------------------- */

DROP TABLE "EMT_BUSINESS_SECTOR_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_BUSINESS_SECTOR_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL,
	"STRIPPED_NAME" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_BUSINESS_SECTOR_I18N"
		ADD CONSTRAINT "EMT_BUSINESS_SECTOR_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_BUSINESS_SECTOR_I18N" ADD CONSTRAINT "EMT_BUSINESS_SECTOR_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_BUSINESS_SECTOR" ("ID") ON DELETE CASCADE;


/* EMT_ROLE-------------------------------------------------- */

DROP TABLE "EMT_ROLE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ROLE_SEQ";


CREATE TABLE "EMT_ROLE"
(
	"ID" NUMBER(4)  NOT NULL,
	"SYSNAME" NVARCHAR2(50)  NOT NULL,
	"PARENT_ID" NUMBER(4),
	"MODULE" NVARCHAR2(50),
	"RELATED_TYPE_ID" NUMBER(3),
	"OPPOSITE_ROLE_ID" NUMBER(4)
);

	ALTER TABLE "EMT_ROLE"
		ADD CONSTRAINT "EMT_ROLE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ROLE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_ROLE" ADD CONSTRAINT "EMT_ROLE_FK_1" FOREIGN KEY ("PARENT_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_ROLE" ADD CONSTRAINT "EMT_ROLE_FK_2" FOREIGN KEY ("RELATED_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_ROLE" ADD CONSTRAINT "EMT_ROLE_FK_3" FOREIGN KEY ("OPPOSITE_ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE RESTRICT;


/* EMT_ROLE_I18N-------------------------------------------------- */

DROP TABLE "EMT_ROLE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_ROLE_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"DESCRIPTION" NVARCHAR2(255)
);

	ALTER TABLE "EMT_ROLE_I18N"
		ADD CONSTRAINT "EMT_ROLE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_ROLE_I18N" ADD CONSTRAINT "EMT_ROLE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE CASCADE;


/* EMT_ROLE_MATRIX-------------------------------------------------- */

DROP TABLE "EMT_ROLE_MATRIX" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_ROLE_MATRIX"
(
	"ID" NUMBER(4)  NOT NULL,
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"SUBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"IS_RELATION_TYPE" NUMBER(1,0),
	"BADGE" NVARCHAR2(50)
);

	ALTER TABLE "EMT_ROLE_MATRIX"
		ADD CONSTRAINT "EMT_ROLE_MATRIX_PK"
	PRIMARY KEY ("ID","OBJECT_TYPE_ID","SUBJECT_TYPE_ID");

ALTER TABLE "EMT_ROLE_MATRIX" ADD CONSTRAINT "EMT_ROLE_MATRIX_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_ROLE_MATRIX" ADD CONSTRAINT "EMT_ROLE_MATRIX_FK_2" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_ROLE_MATRIX" ADD CONSTRAINT "EMT_ROLE_MATRIX_FK_3" FOREIGN KEY ("SUBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_CONTACT-------------------------------------------------- */

DROP TABLE "EMT_CONTACT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CONTACT_SEQ";


CREATE TABLE "EMT_CONTACT"
(
	"ID" NUMBER(10)  NOT NULL,
	"EMAIL" NVARCHAR2(80),
	"GTALK" NVARCHAR2(50),
	"MSN" NVARCHAR2(50),
	"YAHOO" NVARCHAR2(50),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_CONTACT"
		ADD CONSTRAINT "EMT_CONTACT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CONTACT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_CONTACT_PHONE-------------------------------------------------- */

DROP TABLE "EMT_CONTACT_PHONE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CONTACT_PHONE_SEQ";


CREATE TABLE "EMT_CONTACT_PHONE"
(
	"ID" NUMBER(10)  NOT NULL,
	"CONTACT_ID" NUMBER(10)  NOT NULL,
	"TYPE" NUMBER(4),
	"PHONE" NVARCHAR2(50),
	"PREFERRED" NUMBER(1,0)
);

	ALTER TABLE "EMT_CONTACT_PHONE"
		ADD CONSTRAINT "EMT_CONTACT_PHONE_PK"
	PRIMARY KEY ("ID","CONTACT_ID");
CREATE SEQUENCE "EMT_CONTACT_PHONE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CONTACT_PHONE" ADD CONSTRAINT "EMT_CONTACT_PHONE_FK_1" FOREIGN KEY ("CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE CASCADE;


/* EMT_CONTACT_ADDRESS-------------------------------------------------- */

DROP TABLE "EMT_CONTACT_ADDRESS" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CONTACT_ADDRESS_SEQ";


CREATE TABLE "EMT_CONTACT_ADDRESS"
(
	"ID" NUMBER(10)  NOT NULL,
	"CONTACT_ID" NUMBER(10)  NOT NULL,
	"TYPE" NUMBER(4),
	"STREET" NVARCHAR2(255),
	"CITY" NVARCHAR2(50),
	"STATE" NUMBER(7),
	"POSTALCODE" NVARCHAR2(10),
	"COUNTRY" NVARCHAR2(5)
);

	ALTER TABLE "EMT_CONTACT_ADDRESS"
		ADD CONSTRAINT "EMT_CONTACT_ADDRESS_PK"
	PRIMARY KEY ("ID","CONTACT_ID");
CREATE SEQUENCE "EMT_CONTACT_ADDRESS_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CONTACT_ADDRESS" ADD CONSTRAINT "EMT_CONTACT_ADDRESS_FK_1" FOREIGN KEY ("CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_CONTACT_ADDRESS" ADD CONSTRAINT "EMT_CONTACT_ADDRESS_FK_2" FOREIGN KEY ("STATE") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE RESTRICT;


/* EMT_LOGIN-------------------------------------------------- */

DROP TABLE "EMT_LOGIN" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_LOGIN_SEQ";


CREATE TABLE "EMT_LOGIN"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"USERNAME" NVARCHAR2(50),
	"EMAIL" NVARCHAR2(80)  NOT NULL,
	"SHA1_PASSWORD" NVARCHAR2(40)  NOT NULL,
	"SALT" NVARCHAR2(32)  NOT NULL,
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"REMINDER_QUESTION" NVARCHAR2(50)  NOT NULL,
	"REMINDER_ANSWER" NVARCHAR2(50)  NOT NULL,
	"STARTUP" NUMBER(10),
	"REMEMBER_CODE" NVARCHAR2(35),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"EMAIL_LOG" NVARCHAR2(400) default 'a:0:{}'
);

	ALTER TABLE "EMT_LOGIN"
		ADD CONSTRAINT "EMT_LOGIN_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_LOGIN_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_LOGIN" ADD CONSTRAINT "EMT_LOGIN_FK_1" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;


/* EMT_USER-------------------------------------------------- */

DROP TABLE "EMT_USER" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_USER_SEQ";


CREATE TABLE "EMT_USER"
(
	"ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"LASTNAME" NVARCHAR2(50)  NOT NULL,
	"LOGIN_ID" NUMBER(10)  NOT NULL,
	"PROFILE_ID" NUMBER(10) default null,
	"GENDER" NUMBER(1,0),
	"BIRTHDATE" DATE,
	"ALTERNATIVE_EMAIL" NVARCHAR2(80),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"REGISTRATION_IP" NUMBER(16),
	"DISPLAY_NAME" NVARCHAR2(50),
	"DISPLAY_LASTNAME" NVARCHAR2(50)
);

	ALTER TABLE "EMT_USER"
		ADD CONSTRAINT "EMT_USER_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_USER_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_USER" ADD CONSTRAINT "EMT_USER_FK_1" FOREIGN KEY ("LOGIN_ID") REFERENCES "EMT_LOGIN" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_USER" ADD CONSTRAINT "EMT_USER_FK_2" FOREIGN KEY ("PROFILE_ID") REFERENCES "EMT_USER_PROFILE" ("ID") ON DELETE CASCADE;


/* EMT_USER_PROFILE-------------------------------------------------- */

DROP TABLE "EMT_USER_PROFILE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_USER_PROFILE_SEQ";


CREATE TABLE "EMT_USER_PROFILE"
(
	"ID" NUMBER(10)  NOT NULL,
	"PHOTO_ID" NUMBER(15),
	"MARITAL_STATUS" NUMBER(2,0),
	"CONTACT_ID" NUMBER(10),
	"HOME_TOWN_ID" NUMBER(7),
	"HOME_COUNTRY" NVARCHAR2(5),
	"PREFERRED_LANGUAGE" NVARCHAR2(5),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"SELECTED_HR_REGION" NVARCHAR2(5)
);

	ALTER TABLE "EMT_USER_PROFILE"
		ADD CONSTRAINT "EMT_USER_PROFILE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_USER_PROFILE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_USER_PROFILE" ADD CONSTRAINT "EMT_USER_PROFILE_FK_1" FOREIGN KEY ("PHOTO_ID") REFERENCES "EMT_MEDIA_ITEM" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_USER_PROFILE" ADD CONSTRAINT "EMT_USER_PROFILE_FK_2" FOREIGN KEY ("CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_USER_PROFILE" ADD CONSTRAINT "EMT_USER_PROFILE_FK_3" FOREIGN KEY ("HOME_TOWN_ID") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;


/* EMT_PRIVACY_NODE_TYPE-------------------------------------------------- */

DROP TABLE "EMT_PRIVACY_NODE_TYPE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRIVACY_NODE_TYPE_SEQ";


CREATE TABLE "EMT_PRIVACY_NODE_TYPE"
(
	"ID" NUMBER(3)  NOT NULL,
	"PRIORITY" NUMBER(3),
	"REQUIRES_SUBJECT" NUMBER(1,0)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_PRIVACY_NODE_TYPE"
		ADD CONSTRAINT "EMT_PRIVACY_NODE_TYPE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRIVACY_NODE_TYPE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_PRIVACY_NODE_TYPE_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRIVACY_NODE_TYPE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRIVACY_NODE_TYPE_I18N"
(
	"ID" NUMBER(3)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)
);

	ALTER TABLE "EMT_PRIVACY_NODE_TYPE_I18N"
		ADD CONSTRAINT "EMT_PRIVACY_NODE_TYPE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRIVACY_NODE_TYPE_I18N" ADD CONSTRAINT "EMT_PRIVACY_NODE_TYPE_I18_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE CASCADE;


/* EMT_PRIVACY_PREFERENCE-------------------------------------------------- */

DROP TABLE "EMT_PRIVACY_PREFERENCE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRIVACY_PREFERENCE_SEQ";


CREATE TABLE "EMT_PRIVACY_PREFERENCE"
(
	"ID" NUMBER(15)  NOT NULL,
	"USER_ID" NUMBER(10),
	"SUBJECT_ID" NUMBER(10),
	"SUBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"ROLE_ON_SUBJECT" NUMBER(4),
	"OBJECT_ID" NUMBER(10),
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"ROLE_ON_OBJECT" NUMBER(4),
	"ACTION_ID" NUMBER(5),
	"ALLOWED" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_PRIVACY_PREFERENCE"
		ADD CONSTRAINT "EMT_PRIVACY_PREFERENCE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRIVACY_PREFERENCE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PRIVACY_PREFERENCE" ADD CONSTRAINT "EMT_PRIVACY_PREFERENCE_FK_1" FOREIGN KEY ("SUBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_PRIVACY_PREFERENCE" ADD CONSTRAINT "EMT_PRIVACY_PREFERENCE_FK_2" FOREIGN KEY ("ROLE_ON_SUBJECT") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_PRIVACY_PREFERENCE" ADD CONSTRAINT "EMT_PRIVACY_PREFERENCE_FK_3" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_PRIVACY_PREFERENCE" ADD CONSTRAINT "EMT_PRIVACY_PREFERENCE_FK_4" FOREIGN KEY ("ROLE_ON_OBJECT") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_PRIVACY_PREFERENCE" ADD CONSTRAINT "EMT_PRIVACY_PREFERENCE_FK_5" FOREIGN KEY ("ACTION_ID") REFERENCES "EMT_ACTION" ("ID") ON DELETE SET NULL;


/* EMT_MESSAGE-------------------------------------------------- */

DROP TABLE "EMT_MESSAGE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MESSAGE_SEQ";


CREATE TABLE "EMT_MESSAGE"
(
	"ID" NUMBER(15)  NOT NULL,
	"THREAD_ID" NUMBER(15),
	"SENDER_ID" NUMBER(10),
	"SENDER_TYPE_ID" NUMBER(3)  NOT NULL,
	"SUBJECT" NVARCHAR2(255),
	"BODY" NVARCHAR2(1000)  NOT NULL,
	"FOLDER_ID" NUMBER(2) default 1,
	"MESSAGE_TYPE_ID" NUMBER(2) default 1,
	"DELETED_AT" TIMESTAMP,
	"CREATED_AT" TIMESTAMP,
	"RELATED_OBJECT_ID" NUMBER(16),
	"RELATED_OBJECT_TYPE_ID" NUMBER(3)  NOT NULL
);

	ALTER TABLE "EMT_MESSAGE"
		ADD CONSTRAINT "EMT_MESSAGE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MESSAGE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MESSAGE" ADD CONSTRAINT "EMT_MESSAGE_FK_1" FOREIGN KEY ("THREAD_ID") REFERENCES "EMT_MESSAGE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_MESSAGE" ADD CONSTRAINT "EMT_MESSAGE_FK_2" FOREIGN KEY ("SENDER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_MESSAGE" ADD CONSTRAINT "EMT_MESSAGE_FK_3" FOREIGN KEY ("RELATED_OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_MESSAGE_RECIPIENT-------------------------------------------------- */

DROP TABLE "EMT_MESSAGE_RECIPIENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MESSAGE_RECIPIENT_SEQ";


CREATE TABLE "EMT_MESSAGE_RECIPIENT"
(
	"ID" NUMBER(15)  NOT NULL,
	"MESSAGE_ID" NUMBER(15),
	"RECIPIENT_ID" NUMBER(10)  NOT NULL,
	"RECIPIENT_TYPE_ID" NUMBER(3)  NOT NULL,
	"FOLDER_ID" NUMBER(2) default 1,
	"IS_READ" NUMBER(1,0) default 0,
	"DELETED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_MESSAGE_RECIPIENT"
		ADD CONSTRAINT "EMT_MESSAGE_RECIPIENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MESSAGE_RECIPIENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MESSAGE_RECIPIENT" ADD CONSTRAINT "EMT_MESSAGE_RECIPIENT_FK_1" FOREIGN KEY ("MESSAGE_ID") REFERENCES "EMT_MESSAGE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_MESSAGE_RECIPIENT" ADD CONSTRAINT "EMT_MESSAGE_RECIPIENT_FK_2" FOREIGN KEY ("RECIPIENT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_ROLE_ASSIGNMENT-------------------------------------------------- */

DROP TABLE "EMT_ROLE_ASSIGNMENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ROLE_ASSIGNMENT_SEQ";


CREATE TABLE "EMT_ROLE_ASSIGNMENT"
(
	"ID" NUMBER(4)  NOT NULL,
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"LOGIN_ID" NUMBER(4)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_ROLE_ASSIGNMENT"
		ADD CONSTRAINT "EMT_ROLE_ASSIGNMENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ROLE_ASSIGNMENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_ROLE_ASSIGNMENT" ADD CONSTRAINT "EMT_ROLE_ASSIGNMENT_FK_1" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_ROLE_ASSIGNMENT" ADD CONSTRAINT "EMT_ROLE_ASSIGNMENT_FK_2" FOREIGN KEY ("LOGIN_ID") REFERENCES "EMT_LOGIN" ("ID") ON DELETE CASCADE;


/* EMT_EMAIL_TRANSACTION_RULE-------------------------------------------------- */

DROP TABLE "EMT_EMAIL_TRANSACTION_RULE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_EMAIL_TRANSACTION_RULE_SEQ";


CREATE TABLE "EMT_EMAIL_TRANSACTION_RULE"
(
	"ID" NUMBER(3)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"DEFINITION" NVARCHAR2(255),
	"SCHEDULE" NVARCHAR2(250),
	"PRIORITY" NUMBER(2) default 2 NOT NULL,
	"IS_SYSRULE" NUMBER(1,0) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_EMAIL_TRANSACTION_RULE"
		ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_RULE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_EMAIL_TRANSACTION_RULE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_EMAIL_TRANSACTION_NS-------------------------------------------------- */

DROP TABLE "EMT_EMAIL_TRANSACTION_NS" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_EMAIL_TRANSACTION_NS_SEQ";


CREATE TABLE "EMT_EMAIL_TRANSACTION_NS"
(
	"ID" NUMBER(3)  NOT NULL,
	"TEMPLATE" NVARCHAR2(50)  NOT NULL,
	"TR_RULE_ID" NUMBER(10),
	"CONTENT_TYPE" NVARCHAR2(10),
	"SENDER_EMAIL" NVARCHAR2(80)  NOT NULL,
	"SENDER_ACCOUNT" NVARCHAR2(50)  NOT NULL,
	"SENDER_PASSWORD" NVARCHAR2(50)  NOT NULL,
	"SENDER_SMTP_HOST" NVARCHAR2(50)  NOT NULL,
	"SENDER_SMTP_PORT" NVARCHAR2(50)  NOT NULL,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_EMAIL_TRANSACTION_NS"
		ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_NS_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_EMAIL_TRANSACTION_NS_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_EMAIL_TRANSACTION_NS" ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_NS_FK_1" FOREIGN KEY ("TR_RULE_ID") REFERENCES "EMT_EMAIL_TRANSACTION_RULE" ("ID") ON DELETE SET NULL;


/* EMT_EMAIL_TRANSACTION_NS_I18N-------------------------------------------------- */

DROP TABLE "EMT_EMAIL_TRANSACTION_NS_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_EMAIL_TRANSACTION_NS_I18N"
(
	"ID" NUMBER(3)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"DEFINITION" NVARCHAR2(255),
	"SUBJECT" NVARCHAR2(50)  NOT NULL,
	"SENDER_TITLE" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_EMAIL_TRANSACTION_NS_I18N"
		ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_NS_I1_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_EMAIL_TRANSACTION_NS_I18N" ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_NS__FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_EMAIL_TRANSACTION_NS" ("ID") ON DELETE CASCADE;


/* EMT_EMAIL_TRANSACTION-------------------------------------------------- */

DROP TABLE "EMT_EMAIL_TRANSACTION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_EMAIL_TRANSACTION_SEQ";


CREATE TABLE "EMT_EMAIL_TRANSACTION"
(
	"ID" NUMBER(15)  NOT NULL,
	"NAMESPACE_ID" NUMBER(3),
	"EMAIL" NVARCHAR2(80)  NOT NULL,
	"DATA" CLOB default 'a:0:{}' NOT NULL,
	"RCPNT_USER_ID" NUMBER(10),
	"RCPNT_COMPANY_ID" NUMBER(10),
	"STATUS" NUMBER(2) default 0,
	"ERROR_MESSAGE" NVARCHAR2(255),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"PREFERRED_LANG" NVARCHAR2(5)
);

	ALTER TABLE "EMT_EMAIL_TRANSACTION"
		ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_EMAIL_TRANSACTION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_EMAIL_TRANSACTION" ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_FK_1" FOREIGN KEY ("NAMESPACE_ID") REFERENCES "EMT_EMAIL_TRANSACTION_NS" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_EMAIL_TRANSACTION" ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_FK_2" FOREIGN KEY ("RCPNT_USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_EMAIL_TRANSACTION" ADD CONSTRAINT "EMT_EMAIL_TRANSACTION_FK_3" FOREIGN KEY ("RCPNT_COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE SET NULL;


/* EMT_BLOCKREASON-------------------------------------------------- */

DROP TABLE "EMT_BLOCKREASON" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_BLOCKREASON_SEQ";


CREATE TABLE "EMT_BLOCKREASON"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_BLOCKREASON"
		ADD CONSTRAINT "EMT_BLOCKREASON_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_BLOCKREASON_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_BLOCKREASON_I18N-------------------------------------------------- */

DROP TABLE "EMT_BLOCKREASON_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_BLOCKREASON_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"DESCRIPTION" NVARCHAR2(255)
);

	ALTER TABLE "EMT_BLOCKREASON_I18N"
		ADD CONSTRAINT "EMT_BLOCKREASON_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_BLOCKREASON_I18N" ADD CONSTRAINT "EMT_BLOCKREASON_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_BLOCKREASON" ("ID") ON DELETE CASCADE;


/* EMT_BLOCKLIST-------------------------------------------------- */

DROP TABLE "EMT_BLOCKLIST" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_BLOCKLIST_SEQ";


CREATE TABLE "EMT_BLOCKLIST"
(
	"ID" NUMBER(10)  NOT NULL,
	"LOGIN_ID" NUMBER(10)  NOT NULL,
	"COMPANY_ID" NUMBER(10) default null,
	"BLOCKREASON_ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0) default 1,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_BLOCKLIST"
		ADD CONSTRAINT "EMT_BLOCKLIST_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_BLOCKLIST_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_BLOCKLIST_I_1" ON "EMT_BLOCKLIST" ("LOGIN_ID");

ALTER TABLE "EMT_BLOCKLIST" ADD CONSTRAINT "EMT_BLOCKLIST_FK_1" FOREIGN KEY ("LOGIN_ID") REFERENCES "EMT_LOGIN" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_BLOCKLIST" ADD CONSTRAINT "EMT_BLOCKLIST_FK_2" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_BLOCKLIST" ADD CONSTRAINT "EMT_BLOCKLIST_FK_3" FOREIGN KEY ("BLOCKREASON_ID") REFERENCES "EMT_BLOCKREASON" ("ID") ON DELETE SET NULL;


/* EMT_COMPANY-------------------------------------------------- */

DROP TABLE "EMT_COMPANY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_COMPANY_SEQ";


CREATE TABLE "EMT_COMPANY"
(
	"ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"BUSINESS_TYPE_ID" NUMBER(4)  NOT NULL,
	"PROFILE_ID" NUMBER(10),
	"SECTOR_ID" NUMBER(4)  NOT NULL,
	"URL" NVARCHAR2(255),
	"BRANDS" NVARCHAR2(255),
	"COMPANY_EMAIL" NVARCHAR2(80),
	"MEMBER_TYPE" NUMBER(2),
	"INTERESTED_IN_B2B" NUMBER(1,0),
	"INTERESTED_IN_HR" NUMBER(1,0),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"AVAILABLE" NUMBER(1,0) default 1,
	"BLOCKED" NUMBER(1,0) default 0,
	"IS_FEATURED" NUMBER(1,0) default 0
);

	ALTER TABLE "EMT_COMPANY"
		ADD CONSTRAINT "EMT_COMPANY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_COMPANY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_COMPANY_I_1" ON "EMT_COMPANY" ("BUSINESS_TYPE_ID");
CREATE INDEX "EMT_COMPANY_I_2" ON "EMT_COMPANY" ("SECTOR_ID");

ALTER TABLE "EMT_COMPANY" ADD CONSTRAINT "EMT_COMPANY_FK_1" FOREIGN KEY ("BUSINESS_TYPE_ID") REFERENCES "EMT_BUSINESS_TYPE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_COMPANY" ADD CONSTRAINT "EMT_COMPANY_FK_2" FOREIGN KEY ("PROFILE_ID") REFERENCES "EMT_COMPANY_PROFILE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_COMPANY" ADD CONSTRAINT "EMT_COMPANY_FK_3" FOREIGN KEY ("SECTOR_ID") REFERENCES "EMT_BUSINESS_SECTOR" ("ID") ON DELETE SET NULL;


/* EMT_COMPANY_PROFILE-------------------------------------------------- */

DROP TABLE "EMT_COMPANY_PROFILE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_COMPANY_PROFILE_SEQ";


CREATE TABLE "EMT_COMPANY_PROFILE"
(
	"ID" NUMBER(10)  NOT NULL,
	"CONTACT_ID" NUMBER(10),
	"NO_OF_QC_STAFF" NVARCHAR2(50),
	"NO_OF_RD_STAFF" NVARCHAR2(50),
	"NO_OF_EMPLOYEES" NVARCHAR2(50),
	"NO_OF_PROD_LINE" NVARCHAR2(50),
	"CERTIFICATIONS" NVARCHAR2(500),
	"FACTORYSIZE" NUMBER(10),
	"FACTORYSIZE_UNIT" NUMBER(4),
	"EXPORT_PERCENT_SPAN" NUMBER(4),
	"EXPORT_PERCENT" NUMBER(4),
	"FOUNDED_IN" TIMESTAMP
);

	ALTER TABLE "EMT_COMPANY_PROFILE"
		ADD CONSTRAINT "EMT_COMPANY_PROFILE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_COMPANY_PROFILE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_COMPANY_PROFILE" ADD CONSTRAINT "EMT_COMPANY_PROFILE_FK_1" FOREIGN KEY ("CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE SET NULL;


/* EMT_COMPANY_PROFILE_I18N-------------------------------------------------- */

DROP TABLE "EMT_COMPANY_PROFILE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_COMPANY_PROFILE_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"INTRODUCTION" NVARCHAR2(2000),
	"PRODUCT_SERVICE" NVARCHAR2(2000)
);

	ALTER TABLE "EMT_COMPANY_PROFILE_I18N"
		ADD CONSTRAINT "EMT_COMPANY_PROFILE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_COMPANY_PROFILE_I18N" ADD CONSTRAINT "EMT_COMPANY_PROFILE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_COMPANY_PROFILE" ("ID") ON DELETE CASCADE;


/* EMT_COMPANY_LOGIN-------------------------------------------------- */

DROP TABLE "EMT_COMPANY_LOGIN" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_COMPANY_LOGIN_SEQ";


CREATE TABLE "EMT_COMPANY_LOGIN"
(
	"ID" NUMBER(10)  NOT NULL,
	"COMPANY_ID" NUMBER(10)  NOT NULL,
	"LOGIN_ID" NUMBER(10)  NOT NULL,
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_COMPANY_LOGIN"
		ADD CONSTRAINT "EMT_COMPANY_LOGIN_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_COMPANY_LOGIN_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_COMPANY_LOGIN" ADD CONSTRAINT "EMT_COMPANY_LOGIN_FK_1" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_COMPANY_LOGIN" ADD CONSTRAINT "EMT_COMPANY_LOGIN_FK_2" FOREIGN KEY ("LOGIN_ID") REFERENCES "EMT_LOGIN" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_COMPANY_LOGIN" ADD CONSTRAINT "EMT_COMPANY_LOGIN_FK_3" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;


/* EMT_COMPANY_USER-------------------------------------------------- */

DROP TABLE "EMT_COMPANY_USER" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_COMPANY_USER_SEQ";


CREATE TABLE "EMT_COMPANY_USER"
(
	"ID" NUMBER(10)  NOT NULL,
	"COMPANY_ID" NUMBER(10)  NOT NULL,
	"OBJECT_ID" NUMBER(10),
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"CREATED_AT" TIMESTAMP,
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"STATUS" NUMBER(2) default 0
);

	ALTER TABLE "EMT_COMPANY_USER"
		ADD CONSTRAINT "EMT_COMPANY_USER_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_COMPANY_USER_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_COMPANY_USER" ADD CONSTRAINT "EMT_COMPANY_USER_FK_1" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_COMPANY_USER" ADD CONSTRAINT "EMT_COMPANY_USER_FK_2" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_COMPANY_USER" ADD CONSTRAINT "EMT_COMPANY_USER_FK_3" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_JOB_POSITION-------------------------------------------------- */

DROP TABLE "EMT_JOB_POSITION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_POSITION_SEQ";


CREATE TABLE "EMT_JOB_POSITION"
(
	"ID" NUMBER(5)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_JOB_POSITION"
		ADD CONSTRAINT "EMT_JOB_POSITION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_JOB_POSITION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_JOB_POSITION_I18N-------------------------------------------------- */

DROP TABLE "EMT_JOB_POSITION_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_JOB_POSITION_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_JOB_POSITION_I18N"
		ADD CONSTRAINT "EMT_JOB_POSITION_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_JOB_POSITION_I18N" ADD CONSTRAINT "EMT_JOB_POSITION_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_JOB_POSITION" ("ID") ON DELETE CASCADE;


/* EMT_JOB_GRADE-------------------------------------------------- */

DROP TABLE "EMT_JOB_GRADE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_GRADE_SEQ";


CREATE TABLE "EMT_JOB_GRADE"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_JOB_GRADE"
		ADD CONSTRAINT "EMT_JOB_GRADE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_JOB_GRADE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_JOB_GRADE_I18N-------------------------------------------------- */

DROP TABLE "EMT_JOB_GRADE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_JOB_GRADE_I18N"
(
	"ID" NUMBER(8)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_JOB_GRADE_I18N"
		ADD CONSTRAINT "EMT_JOB_GRADE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_JOB_GRADE_I18N" ADD CONSTRAINT "EMT_JOB_GRADE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_JOB_GRADE" ("ID") ON DELETE CASCADE;


/* EMT_RESUME-------------------------------------------------- */

DROP TABLE "EMT_RESUME" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_SEQ";


CREATE TABLE "EMT_RESUME"
(
	"ID" NUMBER(10)  NOT NULL,
	"TITLE" NVARCHAR2(50)  NOT NULL,
	"USER_ID" NUMBER(10)  NOT NULL,
	"CONTACT_ID" NUMBER(10),
	"JOB_POSITION_ID" NUMBER(5),
	"JOB_GRADE_ID" NUMBER(4),
	"ACTIVE" NUMBER(1,0),
	"SMOKES" NUMBER(1,0),
	"DRIVERS_LICENSE" NUMBER(4),
	"DESIRED_SALARY" NVARCHAR2(50),
	"SALARY_CURRENCY" NVARCHAR2(10),
	"WILLING_TO_TRAVEL" NUMBER(4),
	"WILLING_TO_RELOCATE" NUMBER(1,0),
	"WILLING_TO_TELECOMMUTE" NUMBER(1,0),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"OBJECTIVE" NVARCHAR2(2000),
	"MILITARY_SERVICE_STATUS" NUMBER(4)
);

	ALTER TABLE "EMT_RESUME"
		ADD CONSTRAINT "EMT_RESUME_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RESUME_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME" ADD CONSTRAINT "EMT_RESUME_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RESUME" ADD CONSTRAINT "EMT_RESUME_FK_2" FOREIGN KEY ("CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_RESUME" ADD CONSTRAINT "EMT_RESUME_FK_3" FOREIGN KEY ("JOB_POSITION_ID") REFERENCES "EMT_JOB_POSITION" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_RESUME" ADD CONSTRAINT "EMT_RESUME_FK_4" FOREIGN KEY ("JOB_GRADE_ID") REFERENCES "EMT_JOB_GRADE" ("ID") ON DELETE SET NULL;


/* EMT_RESUME_COURSE-------------------------------------------------- */

DROP TABLE "EMT_RESUME_COURSE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_COURSE_SEQ";


CREATE TABLE "EMT_RESUME_COURSE"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL,
	"INSTITUTE" NVARCHAR2(100)  NOT NULL,
	"DATE_FROM" TIMESTAMP  NOT NULL,
	"DATE_TO" TIMESTAMP,
	"PRESENT" NUMBER(1,0),
	"DAILY" NUMBER(1,0)
);

	ALTER TABLE "EMT_RESUME_COURSE"
		ADD CONSTRAINT "EMT_RESUME_COURSE_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_COURSE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_COURSE" ADD CONSTRAINT "EMT_RESUME_COURSE_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_LANGUAGE-------------------------------------------------- */

DROP TABLE "EMT_RESUME_LANGUAGE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_LANGUAGE_SEQ";


CREATE TABLE "EMT_RESUME_LANGUAGE"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"LANGUAGE" NVARCHAR2(7)  NOT NULL,
	"NATIVE" NUMBER(1,0),
	"LEVEL_READ" NUMBER(4),
	"LEVEL_WRITE" NUMBER(4),
	"LEVEL_SPEAK" NUMBER(4)
);

	ALTER TABLE "EMT_RESUME_LANGUAGE"
		ADD CONSTRAINT "EMT_RESUME_LANGUAGE_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_LANGUAGE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_LANGUAGE" ADD CONSTRAINT "EMT_RESUME_LANGUAGE_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_SCHOOL-------------------------------------------------- */

DROP TABLE "EMT_RESUME_SCHOOL" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_SCHOOL_SEQ";


CREATE TABLE "EMT_RESUME_SCHOOL"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"DEGREE_ID" NUMBER(4)  NOT NULL,
	"SCHOOL" NVARCHAR2(100)  NOT NULL,
	"MAJOR" NVARCHAR2(100)  NOT NULL,
	"DATE_FROM" TIMESTAMP,
	"DATE_TO" TIMESTAMP  NOT NULL,
	"PRESENT" NUMBER(1,0),
	"SUBJECTS" NVARCHAR2(900)
);

	ALTER TABLE "EMT_RESUME_SCHOOL"
		ADD CONSTRAINT "EMT_RESUME_SCHOOL_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_SCHOOL_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_SCHOOL" ADD CONSTRAINT "EMT_RESUME_SCHOOL_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RESUME_SCHOOL" ADD CONSTRAINT "EMT_RESUME_SCHOOL_FK_2" FOREIGN KEY ("DEGREE_ID") REFERENCES "EMT_RESUME_SCHOOL_DEGREE" ("ID") ON DELETE NO ACTION;


/* EMT_RESUME_SCHOOL_DEGREE-------------------------------------------------- */

DROP TABLE "EMT_RESUME_SCHOOL_DEGREE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_SCHOOL_DEGREE_SEQ";


CREATE TABLE "EMT_RESUME_SCHOOL_DEGREE"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL,
	"LEVEL_SEQ" NUMBER(3)
);

	ALTER TABLE "EMT_RESUME_SCHOOL_DEGREE"
		ADD CONSTRAINT "EMT_RESUME_SCHOOL_DEGREE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RESUME_SCHOOL_DEGREE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_RESUME_SCHOOL_DEGREE_I18N-------------------------------------------------- */

DROP TABLE "EMT_RESUME_SCHOOL_DEGREE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_RESUME_SCHOOL_DEGREE_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL
);

	ALTER TABLE "EMT_RESUME_SCHOOL_DEGREE_I18N"
		ADD CONSTRAINT "EMT_RESUME_SCHOOL_DEGREE_I1_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_RESUME_SCHOOL_DEGREE_I18N" ADD CONSTRAINT "EMT_RESUME_SCHOOL_DEGREE__FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_RESUME_SCHOOL_DEGREE" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_WORK-------------------------------------------------- */

DROP TABLE "EMT_RESUME_WORK" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_WORK_SEQ";


CREATE TABLE "EMT_RESUME_WORK"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"COMPANY_NAME" NVARCHAR2(300)  NOT NULL,
	"LISTED_ON_EMT" NUMBER(1,0),
	"COMPANY_ID" NUMBER(10),
	"JOB_TITLE" NVARCHAR2(50)  NOT NULL,
	"DATE_FROM" TIMESTAMP  NOT NULL,
	"DATE_TO" TIMESTAMP,
	"PRESENT" NUMBER(1,0),
	"PROJECTS" NVARCHAR2(900)
);

	ALTER TABLE "EMT_RESUME_WORK"
		ADD CONSTRAINT "EMT_RESUME_WORK_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_WORK_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_WORK" ADD CONSTRAINT "EMT_RESUME_WORK_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RESUME_WORK" ADD CONSTRAINT "EMT_RESUME_WORK_FK_2" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE SET NULL;


/* EMT_RESUME_SKILL-------------------------------------------------- */

DROP TABLE "EMT_RESUME_SKILL" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_SKILL_SEQ";


CREATE TABLE "EMT_RESUME_SKILL"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"SKILL_ITEM_ID" NUMBER(10)  NOT NULL,
	"PROFICIENCY_ID" NUMBER(4)  NOT NULL
);

	ALTER TABLE "EMT_RESUME_SKILL"
		ADD CONSTRAINT "EMT_RESUME_SKILL_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RESUME_SKILL_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_SKILL" ADD CONSTRAINT "EMT_RESUME_SKILL_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RESUME_SKILL" ADD CONSTRAINT "EMT_RESUME_SKILL_FK_2" FOREIGN KEY ("SKILL_ITEM_ID") REFERENCES "EMT_SKILL_INVENTORY_ITEM" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_RESUME_SKILL" ADD CONSTRAINT "EMT_RESUME_SKILL_FK_3" FOREIGN KEY ("PROFICIENCY_ID") REFERENCES "EMT_PROFICIENCY" ("ID") ON DELETE NO ACTION;


/* EMT_PROFICIENCY-------------------------------------------------- */

DROP TABLE "EMT_PROFICIENCY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PROFICIENCY_SEQ";


CREATE TABLE "EMT_PROFICIENCY"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_PROFICIENCY"
		ADD CONSTRAINT "EMT_PROFICIENCY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PROFICIENCY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_PROFICIENCY_I18N-------------------------------------------------- */

DROP TABLE "EMT_PROFICIENCY_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PROFICIENCY_I18N"
(
	"ID" NUMBER(16)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL,
	"DEFINITION" NVARCHAR2(255)
);

	ALTER TABLE "EMT_PROFICIENCY_I18N"
		ADD CONSTRAINT "EMT_PROFICIENCY_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PROFICIENCY_I18N" ADD CONSTRAINT "EMT_PROFICIENCY_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PROFICIENCY" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_SKILL_VERIFICATION-------------------------------------------------- */

DROP TABLE "EMT_RESUME_SKILL_VERIFICATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_SKILL_VERIFIC_SEQ_1";


CREATE TABLE "EMT_RESUME_SKILL_VERIFICATION"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_SKILL_ID" NUMBER(16)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"DEFINITION" NVARCHAR2(100)
);

	ALTER TABLE "EMT_RESUME_SKILL_VERIFICATION"
		ADD CONSTRAINT "EMT_RESUME_SKILL_VERIFICATI_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RESUME_SKILL_VERIFIC_SEQ_1" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_SKILL_VERIFICATION" ADD CONSTRAINT "EMT_RESUME_SKILL_VERIFICA_FK_1" FOREIGN KEY ("RESUME_SKILL_ID") REFERENCES "EMT_RESUME_SKILL" ("ID") ON DELETE CASCADE;


/* EMT_SKILL_CATEGORY-------------------------------------------------- */

DROP TABLE "EMT_SKILL_CATEGORY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_SKILL_CATEGORY_SEQ";


CREATE TABLE "EMT_SKILL_CATEGORY"
(
	"ID" NUMBER(16)  NOT NULL,
	"PARENT_ID" NUMBER(16)
);

	ALTER TABLE "EMT_SKILL_CATEGORY"
		ADD CONSTRAINT "EMT_SKILL_CATEGORY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_SKILL_CATEGORY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_SKILL_CATEGORY" ADD CONSTRAINT "EMT_SKILL_CATEGORY_FK_1" FOREIGN KEY ("PARENT_ID") REFERENCES "EMT_SKILL_CATEGORY" ("ID") ON DELETE CASCADE;


/* EMT_SKILL_CATEGORY_I18N-------------------------------------------------- */

DROP TABLE "EMT_SKILL_CATEGORY_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_SKILL_CATEGORY_I18N"
(
	"ID" NUMBER(16)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL
);

	ALTER TABLE "EMT_SKILL_CATEGORY_I18N"
		ADD CONSTRAINT "EMT_SKILL_CATEGORY_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_SKILL_CATEGORY_I18N" ADD CONSTRAINT "EMT_SKILL_CATEGORY_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_SKILL_CATEGORY" ("ID") ON DELETE CASCADE;


/* EMT_SKILL_INVENTORY_ITEM-------------------------------------------------- */

DROP TABLE "EMT_SKILL_INVENTORY_ITEM" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_SKILL_INVENTORY_ITEM_SEQ";


CREATE TABLE "EMT_SKILL_INVENTORY_ITEM"
(
	"ID" NUMBER(10)  NOT NULL,
	"CATEGORY_ID" NUMBER(10)  NOT NULL
);

	ALTER TABLE "EMT_SKILL_INVENTORY_ITEM"
		ADD CONSTRAINT "EMT_SKILL_INVENTORY_ITEM_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_SKILL_INVENTORY_ITEM_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_SKILL_INVENTORY_ITEM" ADD CONSTRAINT "EMT_SKILL_INVENTORY_ITEM_FK_1" FOREIGN KEY ("CATEGORY_ID") REFERENCES "EMT_SKILL_CATEGORY" ("ID") ON DELETE NO ACTION;


/* EMT_SKILL_INVENTORY_ITEM_I18N-------------------------------------------------- */

DROP TABLE "EMT_SKILL_INVENTORY_ITEM_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_SKILL_INVENTORY_ITEM_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL
);

	ALTER TABLE "EMT_SKILL_INVENTORY_ITEM_I18N"
		ADD CONSTRAINT "EMT_SKILL_INVENTORY_ITEM_I1_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_SKILL_INVENTORY_ITEM_I18N" ADD CONSTRAINT "EMT_SKILL_INVENTORY_ITEM__FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_SKILL_INVENTORY_ITEM" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_PUBLICATION-------------------------------------------------- */

DROP TABLE "EMT_RESUME_PUBLICATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_PUBLICATION_SEQ";


CREATE TABLE "EMT_RESUME_PUBLICATION"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"SUBJECT" NVARCHAR2(200)  NOT NULL,
	"PUBLISHER" NVARCHAR2(100),
	"EDITION" NVARCHAR2(100),
	"CO_AUTHORS" NVARCHAR2(255),
	"ISBN" NVARCHAR2(10),
	"BINDING" NVARCHAR2(4)
);

	ALTER TABLE "EMT_RESUME_PUBLICATION"
		ADD CONSTRAINT "EMT_RESUME_PUBLICATION_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_PUBLICATION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_PUBLICATION" ADD CONSTRAINT "EMT_RESUME_PUBLICATION_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_AWARD-------------------------------------------------- */

DROP TABLE "EMT_RESUME_AWARD" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_AWARD_SEQ";


CREATE TABLE "EMT_RESUME_AWARD"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"TITLE" NVARCHAR2(200)  NOT NULL,
	"ISSUER" NVARCHAR2(100),
	"NOTES" NVARCHAR2(2000),
	"YEAR" NVARCHAR2(4)
);

	ALTER TABLE "EMT_RESUME_AWARD"
		ADD CONSTRAINT "EMT_RESUME_AWARD_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_AWARD_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_AWARD" ADD CONSTRAINT "EMT_RESUME_AWARD_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_REFERENCE-------------------------------------------------- */

DROP TABLE "EMT_RESUME_REFERENCE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_REFERENCE_SEQ";


CREATE TABLE "EMT_RESUME_REFERENCE"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL,
	"JOB_TITLE" NVARCHAR2(100),
	"COMPANY_NAME" NVARCHAR2(300),
	"LISTED_ON_EMT" NUMBER(1,0),
	"COMPANY_ID" NUMBER(10),
	"USER_ID" NUMBER(10),
	"STATUS_ID" NUMBER(4),
	"USER_CONTACT_ID" NUMBER(10)
);

	ALTER TABLE "EMT_RESUME_REFERENCE"
		ADD CONSTRAINT "EMT_RESUME_REFERENCE_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_REFERENCE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_REFERENCE" ADD CONSTRAINT "EMT_RESUME_REFERENCE_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RESUME_REFERENCE" ADD CONSTRAINT "EMT_RESUME_REFERENCE_FK_2" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_RESUME_REFERENCE" ADD CONSTRAINT "EMT_RESUME_REFERENCE_FK_3" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RESUME_REFERENCE" ADD CONSTRAINT "EMT_RESUME_REFERENCE_FK_4" FOREIGN KEY ("USER_CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE SET NULL;


/* EMT_RESUME_ORGANISATION-------------------------------------------------- */

DROP TABLE "EMT_RESUME_ORGANISATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_ORGANISATION_SEQ";


CREATE TABLE "EMT_RESUME_ORGANISATION"
(
	"ID" NUMBER(16)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(300)  NOT NULL,
	"ACTIVITY_ID" NUMBER(4),
	"LISTED_ON_EMT" NUMBER(1,0),
	"ORGANISATION_ID" NUMBER(10),
	"JOINED_IN_YEAR" NVARCHAR2(4),
	"CITY" NVARCHAR2(50),
	"STATE" NVARCHAR2(50),
	"COUNTRY_CODE" NVARCHAR2(5)
);

	ALTER TABLE "EMT_RESUME_ORGANISATION"
		ADD CONSTRAINT "EMT_RESUME_ORGANISATION_PK"
	PRIMARY KEY ("ID","RESUME_ID");
CREATE SEQUENCE "EMT_RESUME_ORGANISATION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_ORGANISATION" ADD CONSTRAINT "EMT_RESUME_ORGANISATION_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;


/* EMT_RELATION-------------------------------------------------- */

DROP TABLE "EMT_RELATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RELATION_SEQ";


CREATE TABLE "EMT_RELATION"
(
	"ID" NUMBER(16)  NOT NULL,
	"USER_ID" NUMBER(10) default null,
	"COMPANY_ID" NUMBER(10) default null,
	"RELATED_USER_ID" NUMBER(10) default null,
	"RELATED_COMPANY_ID" NUMBER(10) default null,
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"STATUS" NUMBER(2) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_RELATION"
		ADD CONSTRAINT "EMT_RELATION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RELATION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RELATION" ADD CONSTRAINT "EMT_RELATION_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RELATION" ADD CONSTRAINT "EMT_RELATION_FK_2" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RELATION" ADD CONSTRAINT "EMT_RELATION_FK_3" FOREIGN KEY ("RELATED_USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RELATION" ADD CONSTRAINT "EMT_RELATION_FK_4" FOREIGN KEY ("RELATED_COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_RELATION" ADD CONSTRAINT "EMT_RELATION_FK_5" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;


/* EMT_ACTION-------------------------------------------------- */

DROP TABLE "EMT_ACTION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ACTION_SEQ";


CREATE TABLE "EMT_ACTION"
(
	"ID" NUMBER(5)  NOT NULL,
	"CONSTANT" NVARCHAR2(50)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL,
	"DISPLAYABLE" NUMBER(1,0),
	"COMMENTABLE" NUMBER(1,0),
	"DETAIL_PARTIAL" NVARCHAR2(50),
	"PRIVACY_CONTROLLED" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_ACTION"
		ADD CONSTRAINT "EMT_ACTION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ACTION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_ACTION_I18N-------------------------------------------------- */

DROP TABLE "EMT_ACTION_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_ACTION_I18N"
(
	"ID" NUMBER(5)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50),
	"LOG_SENTENCE" NVARCHAR2(255)
);

	ALTER TABLE "EMT_ACTION_I18N"
		ADD CONSTRAINT "EMT_ACTION_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_ACTION_I18N" ADD CONSTRAINT "EMT_ACTION_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_ACTION" ("ID") ON DELETE CASCADE;


/* EMT_NOTIFICATION_PREF-------------------------------------------------- */

DROP TABLE "EMT_NOTIFICATION_PREF" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_NOTIFICATION_PREF_SEQ";


CREATE TABLE "EMT_NOTIFICATION_PREF"
(
	"ID" NUMBER(15)  NOT NULL,
	"OBJECT_ID" NUMBER(10),
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"ACTION_ID" NUMBER(5),
	"IS_ALLOWED" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_NOTIFICATION_PREF"
		ADD CONSTRAINT "EMT_NOTIFICATION_PREF_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_NOTIFICATION_PREF_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_NOTIFICATION_PREF" ADD CONSTRAINT "EMT_NOTIFICATION_PREF_FK_1" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_NOTIFICATION_PREF" ADD CONSTRAINT "EMT_NOTIFICATION_PREF_FK_2" FOREIGN KEY ("ACTION_ID") REFERENCES "EMT_ACTION" ("ID") ON DELETE SET NULL;


/* EXT_GEONAME-------------------------------------------------- */

DROP TABLE "EXT_GEONAME" CASCADE CONSTRAINTS;


CREATE TABLE "EXT_GEONAME"
(
	"GEONAME_ID" NUMBER(7)  NOT NULL,
	"NAME" NVARCHAR2(200),
	"ASCIINAME" NVARCHAR2(200),
	"ALTERNATENAMES" NVARCHAR2(2000),
	"LATITUDE" NUMBER(19,7),
	"LONGITUDE" NUMBER(19,7),
	"FEATURE_CLASS" NVARCHAR2(5),
	"FEATURE_CODE" NVARCHAR2(10),
	"COUNTRY_CODE" NVARCHAR2(5),
	"CC2" NVARCHAR2(60),
	"ADMIN1_CODE" NVARCHAR2(20),
	"ADMIN2_CODE" NVARCHAR2(80),
	"ADMIN3_CODE" NVARCHAR2(20),
	"ADMIN4_CODE" NVARCHAR2(20),
	"POPULATION" NUMBER,
	"ELEVATION" NUMBER,
	"GTOPO30" NUMBER,
	"TIMEZONE_ID" NVARCHAR2(50),
	"MODIFICATION_DATE" DATE
);

	ALTER TABLE "EXT_GEONAME"
		ADD CONSTRAINT "EXT_GEONAME_PK"
	PRIMARY KEY ("GEONAME_ID");


/* EXT_GEONAME_COUNTRY-------------------------------------------------- */

DROP TABLE "EXT_GEONAME_COUNTRY" CASCADE CONSTRAINTS;


CREATE TABLE "EXT_GEONAME_COUNTRY"
(
	"ISO" NVARCHAR2(150),
	"ISO3" NVARCHAR2(5),
	"ISO_NUMERIC" NUMBER(3),
	"FIPS" NVARCHAR2(2),
	"COUNTRY" NVARCHAR2(200),
	"CAPITAL" NVARCHAR2(200),
	"AREA" NUMBER(8),
	"POPULATION" NUMBER(10),
	"CONTINENT" NVARCHAR2(2),
	"TLD" NVARCHAR2(10),
	"CURRENCY_CODE" NVARCHAR2(10),
	"CURRENCY_NAME" NVARCHAR2(20),
	"PHONE" NVARCHAR2(20),
	"POSTAL_CODE_FORMAT" NVARCHAR2(200),
	"POSTAL_CODE_REGEX" NVARCHAR2(200),
	"LANGUAGES" NVARCHAR2(60),
	"GEONAME_ID" NUMBER(7)  NOT NULL,
	"NEIGHBOURS" NVARCHAR2(50),
	"EQUIVALENT_FIPS_CODE" NVARCHAR2(20)
);

	ALTER TABLE "EXT_GEONAME_COUNTRY"
		ADD CONSTRAINT "EXT_GEONAME_COUNTRY_PK"
	PRIMARY KEY ("GEONAME_ID");

ALTER TABLE "EXT_GEONAME_COUNTRY" ADD CONSTRAINT "EXT_GEONAME_COUNTRY_FK_1" FOREIGN KEY ("GEONAME_ID") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;


/* EXT_GEONAME_HIERARCHY-------------------------------------------------- */

DROP TABLE "EXT_GEONAME_HIERARCHY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EXT_GEONAME_HIERARCHY_SEQ";


CREATE TABLE "EXT_GEONAME_HIERARCHY"
(
	"ID" NUMBER(15)  NOT NULL,
	"PARENT_ID" NUMBER(7),
	"CHILD_ID" NUMBER(7),
	"TYPE" NVARCHAR2(10)
);

	ALTER TABLE "EXT_GEONAME_HIERARCHY"
		ADD CONSTRAINT "EXT_GEONAME_HIERARCHY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EXT_GEONAME_HIERARCHY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EXT_GEONAME_HIERARCHY" ADD CONSTRAINT "EXT_GEONAME_HIERARCHY_FK_1" FOREIGN KEY ("PARENT_ID") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;

ALTER TABLE "EXT_GEONAME_HIERARCHY" ADD CONSTRAINT "EXT_GEONAME_HIERARCHY_FK_2" FOREIGN KEY ("CHILD_ID") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;


/* EMT_MEDIA_ITEM_FOLDER-------------------------------------------------- */

DROP TABLE "EMT_MEDIA_ITEM_FOLDER" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MEDIA_ITEM_FOLDER_SEQ";


CREATE TABLE "EMT_MEDIA_ITEM_FOLDER"
(
	"ID" NUMBER(15)  NOT NULL,
	"TYPE_ID" NUMBER(2) default null,
	"NAME" NVARCHAR2(50),
	"OWNER_ID" NUMBER(10)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL
);

	ALTER TABLE "EMT_MEDIA_ITEM_FOLDER"
		ADD CONSTRAINT "EMT_MEDIA_ITEM_FOLDER_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MEDIA_ITEM_FOLDER_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MEDIA_ITEM_FOLDER" ADD CONSTRAINT "EMT_MEDIA_ITEM_FOLDER_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_MEDIA_ITEM-------------------------------------------------- */

DROP TABLE "EMT_MEDIA_ITEM" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MEDIA_ITEM_SEQ";


CREATE TABLE "EMT_MEDIA_ITEM"
(
	"ID" NUMBER(15)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"ITEM_TYPE_ID" NUMBER(2) default null,
	"FILENAME" NVARCHAR2(255),
	"TITLE" NVARCHAR2(400),
	"FILE_STORE" NVARCHAR2(255),
	"FILE_SIZE" NUMBER(15),
	"FILE_EXTENTION" NVARCHAR2(6),
	"FOLDER_ID" NUMBER(15),
	"OWNER_ID" NUMBER(10)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL,
	"IS_PROFILE_PHOTO" NUMBER(1,0),
	"HAS_THUMBNAIL" NUMBER(1,0),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"OFFSET_PAD" NUMBER(10),
	"OFFSET_COORDS" NVARCHAR2(100),
	"CROP" NUMBER(1,0) default 0,
	"IS_TEMP" NUMBER(1,0) default 1,
	"MIME_TYPE" NVARCHAR2(100)
);

	ALTER TABLE "EMT_MEDIA_ITEM"
		ADD CONSTRAINT "EMT_MEDIA_ITEM_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MEDIA_ITEM_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MEDIA_ITEM" ADD CONSTRAINT "EMT_MEDIA_ITEM_FK_1" FOREIGN KEY ("FOLDER_ID") REFERENCES "EMT_MEDIA_ITEM_FOLDER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_MEDIA_ITEM" ADD CONSTRAINT "EMT_MEDIA_ITEM_FK_2" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_PAYMENT_TERM-------------------------------------------------- */

DROP TABLE "EMT_PAYMENT_TERM" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PAYMENT_TERM_SEQ";


CREATE TABLE "EMT_PAYMENT_TERM"
(
	"ID" NUMBER(4)  NOT NULL,
	"CODE" NVARCHAR2(20)  NOT NULL
);

	ALTER TABLE "EMT_PAYMENT_TERM"
		ADD CONSTRAINT "EMT_PAYMENT_TERM_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PAYMENT_TERM_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_PAYMENT_TERM_I18N-------------------------------------------------- */

DROP TABLE "EMT_PAYMENT_TERM_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PAYMENT_TERM_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"DESCRIPTION" NVARCHAR2(200),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PAYMENT_TERM_I18N"
		ADD CONSTRAINT "EMT_PAYMENT_TERM_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PAYMENT_TERM_I18N" ADD CONSTRAINT "EMT_PAYMENT_TERM_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PAYMENT_TERM" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_CATEGORY-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_CATEGORY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRODUCT_CATEGORY_SEQ";


CREATE TABLE "EMT_PRODUCT_CATEGORY"
(
	"ID" NUMBER(10)  NOT NULL,
	"PARENT_ID" NUMBER(10) default 0
);

	ALTER TABLE "EMT_PRODUCT_CATEGORY"
		ADD CONSTRAINT "EMT_PRODUCT_CATEGORY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRODUCT_CATEGORY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PRODUCT_CATEGORY_I_1" ON "EMT_PRODUCT_CATEGORY" ("PARENT_ID");


/* EMT_PRODUCT_CATEGORY_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_CATEGORY_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRODUCT_CATEGORY_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_CATEGORY" NVARCHAR2(255)  NOT NULL,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PRODUCT_CATEGORY_I18N"
		ADD CONSTRAINT "EMT_PRODUCT_CATEGORY_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRODUCT_CATEGORY_I18N" ADD CONSTRAINT "EMT_PRODUCT_CATEGORY_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRODUCT_CATEGORY" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_QUANTITY_UNIT-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_QUANTITY_UNIT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRODUCT_QUANTITY_UNIT_SEQ";


CREATE TABLE "EMT_PRODUCT_QUANTITY_UNIT"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_PRODUCT_QUANTITY_UNIT"
		ADD CONSTRAINT "EMT_PRODUCT_QUANTITY_UNIT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRODUCT_QUANTITY_UNIT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_PRODUCT_QUANTITY_UNIT_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_QUANTITY_UNIT_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRODUCT_QUANTITY_UNIT_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL
);

	ALTER TABLE "EMT_PRODUCT_QUANTITY_UNIT_I18N"
		ADD CONSTRAINT "EMT_PRODUCT_QUANTITY_UNIT_I_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRODUCT_QUANTITY_UNIT_I18N" ADD CONSTRAINT "EMT_PRODUCT_QUANTITY_UNIT_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRODUCT_QUANTITY_UNIT" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_GROUP-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_GROUP" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRODUCT_GROUP_SEQ";


CREATE TABLE "EMT_PRODUCT_GROUP"
(
	"ID" NUMBER(10)  NOT NULL,
	"COMPANY_ID" NUMBER(10)  NOT NULL,
	"DEFAULT_LANG" NVARCHAR2(7)
);

	ALTER TABLE "EMT_PRODUCT_GROUP"
		ADD CONSTRAINT "EMT_PRODUCT_GROUP_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRODUCT_GROUP_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PRODUCT_GROUP_I_1" ON "EMT_PRODUCT_GROUP" ("COMPANY_ID");

ALTER TABLE "EMT_PRODUCT_GROUP" ADD CONSTRAINT "EMT_PRODUCT_GROUP_FK_1" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_GROUP_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_GROUP_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRODUCT_GROUP_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_NAME" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_PRODUCT_GROUP_I18N"
		ADD CONSTRAINT "EMT_PRODUCT_GROUP_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRODUCT_GROUP_I18N" ADD CONSTRAINT "EMT_PRODUCT_GROUP_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRODUCT_GROUP" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRODUCT_SEQ";


CREATE TABLE "EMT_PRODUCT"
(
	"ID" NUMBER(10)  NOT NULL,
	"CATEGORY_ID" NUMBER(10)  NOT NULL,
	"COMPANY_ID" NUMBER(10)  NOT NULL,
	"MODEL_NO" NVARCHAR2(100),
	"ACTIVE" NUMBER(1,0) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"PAYMENT_TERMS" NVARCHAR2(200) default 'a:0:{}',
	"GROUP_ID" NUMBER(10),
	"ORIGIN" NVARCHAR2(5),
	"KEYWORD" NVARCHAR2(50),
	"BRAND_NAME" NVARCHAR2(200),
	"MIN_ORDER_QUANTITY" NUMBER(16),
	"QUANTITY_UNIT" NUMBER(10),
	"PRICE_START" NUMBER(16),
	"PRICE_END" NUMBER(16),
	"PRICE_CURRENCY" NVARCHAR2(5),
	"PRICE_UNIT" NUMBER(10),
	"CAPACITY" NUMBER(16),
	"CAPACITY_UNIT" NUMBER(10),
	"CAPACITY_PERIOD_ID" NUMBER(5),
	"APPROVAL_STATUS" NUMBER(3) default 0 NOT NULL,
	"BRAND_ID" NUMBER(10),
	"DEFAULT_LANG" NVARCHAR2(7),
	"IS_TOP_PRODUCT" NUMBER(1,0) default 0
);

	ALTER TABLE "EMT_PRODUCT"
		ADD CONSTRAINT "EMT_PRODUCT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRODUCT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PRODUCT_I_1" ON "EMT_PRODUCT" ("CATEGORY_ID");
CREATE INDEX "EMT_PRODUCT_I_2" ON "EMT_PRODUCT" ("COMPANY_ID");
CREATE INDEX "EMT_PRODUCT_I_3" ON "EMT_PRODUCT" ("GROUP_ID");
CREATE INDEX "EMT_PRODUCT_I_4" ON "EMT_PRODUCT" ("QUANTITY_UNIT");
CREATE INDEX "EMT_PRODUCT_I_5" ON "EMT_PRODUCT" ("PRICE_UNIT");
CREATE INDEX "EMT_PRODUCT_I_6" ON "EMT_PRODUCT" ("CAPACITY_UNIT");
CREATE INDEX "EMT_PRODUCT_I_7" ON "EMT_PRODUCT" ("CAPACITY_PERIOD_ID");
CREATE INDEX "EMT_PRODUCT_I_8" ON "EMT_PRODUCT" ("BRAND_ID");

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_1" FOREIGN KEY ("CATEGORY_ID") REFERENCES "EMT_PRODUCT_CATEGORY" ("ID");

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_2" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_3" FOREIGN KEY ("GROUP_ID") REFERENCES "EMT_PRODUCT_GROUP" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_4" FOREIGN KEY ("QUANTITY_UNIT") REFERENCES "EMT_PRODUCT_QUANTITY_UNIT" ("ID");

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_5" FOREIGN KEY ("PRICE_UNIT") REFERENCES "EMT_PRODUCT_QUANTITY_UNIT" ("ID");

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_6" FOREIGN KEY ("CAPACITY_UNIT") REFERENCES "EMT_PRODUCT_QUANTITY_UNIT" ("ID");

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_7" FOREIGN KEY ("CAPACITY_PERIOD_ID") REFERENCES "EMT_TIME_PERIOD" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_PRODUCT" ADD CONSTRAINT "EMT_PRODUCT_FK_8" FOREIGN KEY ("BRAND_ID") REFERENCES "EMT_COMPANY_BRAND" ("ID") ON DELETE SET NULL;


/* EMT_PRODUCT_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRODUCT_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(400)  NOT NULL,
	"INTRODUCTION" NVARCHAR2(2000)  NOT NULL,
	"PACKAGING" NVARCHAR2(500),
	"HTML_CONTENT" NVARCHAR2(2000)
);

	ALTER TABLE "EMT_PRODUCT_I18N"
		ADD CONSTRAINT "EMT_PRODUCT_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRODUCT_I18N" ADD CONSTRAINT "EMT_PRODUCT_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRODUCT" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_ATTR-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_ATTR" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRODUCT_ATTR_SEQ";


CREATE TABLE "EMT_PRODUCT_ATTR"
(
	"ID" NUMBER(16)  NOT NULL,
	"PRODUCT_ID" NUMBER(10)  NOT NULL,
	"ATTR_OPTION_ID" NUMBER(16)  NOT NULL
);

	ALTER TABLE "EMT_PRODUCT_ATTR"
		ADD CONSTRAINT "EMT_PRODUCT_ATTR_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRODUCT_ATTR_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PRODUCT_ATTR_I_1" ON "EMT_PRODUCT_ATTR" ("PRODUCT_ID");
CREATE INDEX "EMT_PRODUCT_ATTR_I_2" ON "EMT_PRODUCT_ATTR" ("ATTR_OPTION_ID");

ALTER TABLE "EMT_PRODUCT_ATTR" ADD CONSTRAINT "EMT_PRODUCT_ATTR_FK_1" FOREIGN KEY ("PRODUCT_ID") REFERENCES "EMT_PRODUCT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_PRODUCT_ATTR" ADD CONSTRAINT "EMT_PRODUCT_ATTR_FK_2" FOREIGN KEY ("ATTR_OPTION_ID") REFERENCES "EMT_PRODUCT_ATTR_OPTION" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_ATTR_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_ATTR_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRODUCT_ATTR_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"VALUE" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_PRODUCT_ATTR_I18N"
		ADD CONSTRAINT "EMT_PRODUCT_ATTR_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRODUCT_ATTR_I18N" ADD CONSTRAINT "EMT_PRODUCT_ATTR_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRODUCT_ATTR" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_ATTR_DEF-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_ATTR_DEF" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRODUCT_ATTR_DEF_SEQ";


CREATE TABLE "EMT_PRODUCT_ATTR_DEF"
(
	"ID" NUMBER(16)  NOT NULL,
	"CATEGORY_ID" NUMBER(10)  NOT NULL,
	"SEQUENCE_NO" NUMBER(3),
	"ACTIVE" NUMBER(1,0) default 1
);

	ALTER TABLE "EMT_PRODUCT_ATTR_DEF"
		ADD CONSTRAINT "EMT_PRODUCT_ATTR_DEF_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRODUCT_ATTR_DEF_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PRODUCT_ATTR_DEF_I_1" ON "EMT_PRODUCT_ATTR_DEF" ("CATEGORY_ID");

ALTER TABLE "EMT_PRODUCT_ATTR_DEF" ADD CONSTRAINT "EMT_PRODUCT_ATTR_DEF_FK_1" FOREIGN KEY ("CATEGORY_ID") REFERENCES "EMT_PRODUCT_CATEGORY" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_ATTR_DEF_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_ATTR_DEF_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRODUCT_ATTR_DEF_I18N"
(
	"ID" NUMBER(16)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_PRODUCT_ATTR_DEF_I18N"
		ADD CONSTRAINT "EMT_PRODUCT_ATTR_DEF_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRODUCT_ATTR_DEF_I18N" ADD CONSTRAINT "EMT_PRODUCT_ATTR_DEF_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRODUCT_ATTR_DEF" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_ATTR_OPTION-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_ATTR_OPTION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PRODUCT_ATTR_OPTION_SEQ";


CREATE TABLE "EMT_PRODUCT_ATTR_OPTION"
(
	"ID" NUMBER(16)  NOT NULL,
	"ATTRIBUTE_ID" NUMBER(16)  NOT NULL,
	"SEQUENCE_NO" NUMBER(3)
);

	ALTER TABLE "EMT_PRODUCT_ATTR_OPTION"
		ADD CONSTRAINT "EMT_PRODUCT_ATTR_OPTION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PRODUCT_ATTR_OPTION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PRODUCT_ATTR_OPTION_I_1" ON "EMT_PRODUCT_ATTR_OPTION" ("ATTRIBUTE_ID");

ALTER TABLE "EMT_PRODUCT_ATTR_OPTION" ADD CONSTRAINT "EMT_PRODUCT_ATTR_OPTION_FK_1" FOREIGN KEY ("ATTRIBUTE_ID") REFERENCES "EMT_PRODUCT_ATTR_DEF" ("ID") ON DELETE CASCADE;


/* EMT_PRODUCT_ATTR_OPTION_I18N-------------------------------------------------- */

DROP TABLE "EMT_PRODUCT_ATTR_OPTION_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PRODUCT_ATTR_OPTION_I18N"
(
	"ID" NUMBER(16)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"VALUE" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_PRODUCT_ATTR_OPTION_I18N"
		ADD CONSTRAINT "EMT_PRODUCT_ATTR_OPTION_I18_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PRODUCT_ATTR_OPTION_I18N" ADD CONSTRAINT "EMT_PRODUCT_ATTR_OPTION_I_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PRODUCT_ATTR_OPTION" ("ID") ON DELETE CASCADE;


/* EMT_TIME_PERIOD-------------------------------------------------- */

DROP TABLE "EMT_TIME_PERIOD" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TIME_PERIOD_SEQ";


CREATE TABLE "EMT_TIME_PERIOD"
(
	"ID" NUMBER(5)  NOT NULL,
	"ACTIVE" NUMBER(1,0)
);

	ALTER TABLE "EMT_TIME_PERIOD"
		ADD CONSTRAINT "EMT_TIME_PERIOD_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TIME_PERIOD_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_TIME_PERIOD_I18N-------------------------------------------------- */

DROP TABLE "EMT_TIME_PERIOD_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_TIME_PERIOD_I18N"
(
	"ID" NUMBER(5)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"LABEL" NVARCHAR2(50)  NOT NULL,
	"SENTENCE" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_TIME_PERIOD_I18N"
		ADD CONSTRAINT "EMT_TIME_PERIOD_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_TIME_PERIOD_I18N" ADD CONSTRAINT "EMT_TIME_PERIOD_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_TIME_PERIOD" ("ID") ON DELETE CASCADE;


/* EMT_COMPANY_BRAND-------------------------------------------------- */

DROP TABLE "EMT_COMPANY_BRAND" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_COMPANY_BRAND_SEQ";


CREATE TABLE "EMT_COMPANY_BRAND"
(
	"ID" NUMBER(10)  NOT NULL,
	"COMPANY_ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(100)  NOT NULL,
	"TARGET_MARKETS" NVARCHAR2(50)
);

	ALTER TABLE "EMT_COMPANY_BRAND"
		ADD CONSTRAINT "EMT_COMPANY_BRAND_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_COMPANY_BRAND_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_COMPANY_BRAND_I_1" ON "EMT_COMPANY_BRAND" ("COMPANY_ID");

ALTER TABLE "EMT_COMPANY_BRAND" ADD CONSTRAINT "EMT_COMPANY_BRAND_FK_1" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;


/* EMT_RATING-------------------------------------------------- */

DROP TABLE "EMT_RATING" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RATING_SEQ";


CREATE TABLE "EMT_RATING"
(
	"ID" NUMBER(10)  NOT NULL,
	"ITEM_ID" NUMBER(10)  NOT NULL,
	"ITEM_TYPE_ID" NUMBER(3)  NOT NULL,
	"CLIENT_IP" NVARCHAR2(15),
	"SESSION_ID" NVARCHAR2(255),
	"CREATED_AT" TIMESTAMP,
	"VISITOR_ID" NUMBER(10)  NOT NULL,
	"VISITOR_TYPE_ID" NUMBER(3)  NOT NULL
);

	ALTER TABLE "EMT_RATING"
		ADD CONSTRAINT "EMT_RATING_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RATING_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RATING" ADD CONSTRAINT "EMT_RATING_FK_1" FOREIGN KEY ("VISITOR_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_ERROR_LOG-------------------------------------------------- */

DROP TABLE "EMT_ERROR_LOG" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ERROR_LOG_SEQ";


CREATE TABLE "EMT_ERROR_LOG"
(
	"ID" NUMBER(16)  NOT NULL,
	"CAUSING_ITEM_ID" NUMBER(10)  NOT NULL,
	"CAUSING_ITEM_TYPE_ID" NUMBER(3)  NOT NULL,
	"ACTION_ID" NUMBER(5),
	"MESSAGE" NVARCHAR2(255),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_ERROR_LOG"
		ADD CONSTRAINT "EMT_ERROR_LOG_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ERROR_LOG_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_ERROR_LOG" ADD CONSTRAINT "EMT_ERROR_LOG_FK_1" FOREIGN KEY ("CAUSING_ITEM_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_ERROR_LOG" ADD CONSTRAINT "EMT_ERROR_LOG_FK_2" FOREIGN KEY ("ACTION_ID") REFERENCES "EMT_ACTION" ("ID") ON DELETE SET NULL;


/* EMT_PASSWORD_RESET_REQUEST-------------------------------------------------- */

DROP TABLE "EMT_PASSWORD_RESET_REQUEST" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PASSWORD_RESET_REQUEST_SEQ";


CREATE TABLE "EMT_PASSWORD_RESET_REQUEST"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"LOGIN_ID" NUMBER(10)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PASSWORD_RESET_REQUEST"
		ADD CONSTRAINT "EMT_PASSWORD_RESET_REQUEST_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PASSWORD_RESET_REQUEST_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PASSWORD_RESET_REQUEST" ADD CONSTRAINT "EMT_PASSWORD_RESET_REQUES_FK_1" FOREIGN KEY ("LOGIN_ID") REFERENCES "EMT_LOGIN" ("ID") ON DELETE CASCADE;


/* EMT_CUSTOMER_MESSAGE-------------------------------------------------- */

DROP TABLE "EMT_CUSTOMER_MESSAGE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CUSTOMER_MESSAGE_SEQ";


CREATE TABLE "EMT_CUSTOMER_MESSAGE"
(
	"ID" NUMBER(10)  NOT NULL,
	"TOPIC_ID" NUMBER(10)  NOT NULL,
	"USER_ID" NUMBER(10) default null,
	"SENDER_NAMELASTNAME" NVARCHAR2(50)  NOT NULL,
	"SENDER_EMAIL" NVARCHAR2(80)  NOT NULL,
	"MESSAGE" NVARCHAR2(2000)  NOT NULL,
	"SENDER_IP" NVARCHAR2(20),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_CUSTOMER_MESSAGE"
		ADD CONSTRAINT "EMT_CUSTOMER_MESSAGE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CUSTOMER_MESSAGE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CUSTOMER_MESSAGE" ADD CONSTRAINT "EMT_CUSTOMER_MESSAGE_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE NO ACTION;


/* EMT_PUBLICATION_CATEGORY-------------------------------------------------- */

DROP TABLE "EMT_PUBLICATION_CATEGORY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PUBLICATION_CATEGORY_SEQ";


CREATE TABLE "EMT_PUBLICATION_CATEGORY"
(
	"ID" NUMBER(10)  NOT NULL,
	"PARENT_ID" NUMBER(10),
	"ACTIVE" NUMBER(1,0),
	"DEFAULT_LANG" NVARCHAR2(7),
	"FEATURED_TYPE" NUMBER(3)
);

	ALTER TABLE "EMT_PUBLICATION_CATEGORY"
		ADD CONSTRAINT "EMT_PUBLICATION_CATEGORY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PUBLICATION_CATEGORY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PUBLICATION_CATEGORY_I_1" ON "EMT_PUBLICATION_CATEGORY" ("PARENT_ID");

ALTER TABLE "EMT_PUBLICATION_CATEGORY" ADD CONSTRAINT "EMT_PUBLICATION_CATEGORY_FK_1" FOREIGN KEY ("PARENT_ID") REFERENCES "EMT_PUBLICATION_CATEGORY" ("ID") ON DELETE CASCADE;


/* EMT_PUBLICATION_CATEGORY_I18N-------------------------------------------------- */

DROP TABLE "EMT_PUBLICATION_CATEGORY_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PUBLICATION_CATEGORY_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_CATEGORY" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_PUBLICATION_CATEGORY_I18N"
		ADD CONSTRAINT "EMT_PUBLICATION_CATEGORY_I1_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PUBLICATION_CATEGORY_I18N" ADD CONSTRAINT "EMT_PUBLICATION_CATEGORY__FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PUBLICATION_CATEGORY" ("ID") ON DELETE CASCADE;


/* EMT_PUBLICATION-------------------------------------------------- */

DROP TABLE "EMT_PUBLICATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PUBLICATION_SEQ";


CREATE TABLE "EMT_PUBLICATION"
(
	"ID" NUMBER(10)  NOT NULL,
	"AUTHOR_ID" NUMBER(10)  NOT NULL,
	"TYPE_ID" NUMBER(5)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"CATEGORY_ID" NUMBER(10)  NOT NULL,
	"ACTIVE" NUMBER(1,0),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"SOURCE_ID" NUMBER(10)  NOT NULL,
	"DEFAULT_LANG" NVARCHAR2(7),
	"FEATURED_TYPE" NUMBER(3)
);

	ALTER TABLE "EMT_PUBLICATION"
		ADD CONSTRAINT "EMT_PUBLICATION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PUBLICATION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_PUBLICATION_I_1" ON "EMT_PUBLICATION" ("CATEGORY_ID");

ALTER TABLE "EMT_PUBLICATION" ADD CONSTRAINT "EMT_PUBLICATION_FK_1" FOREIGN KEY ("AUTHOR_ID") REFERENCES "EMT_AUTHOR" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_PUBLICATION" ADD CONSTRAINT "EMT_PUBLICATION_FK_2" FOREIGN KEY ("CATEGORY_ID") REFERENCES "EMT_PUBLICATION_CATEGORY" ("ID");

ALTER TABLE "EMT_PUBLICATION" ADD CONSTRAINT "EMT_PUBLICATION_FK_3" FOREIGN KEY ("SOURCE_ID") REFERENCES "EMT_PUBLICATION_SOURCE" ("ID") ON DELETE CASCADE;


/* EMT_PUBLICATION_I18N-------------------------------------------------- */

DROP TABLE "EMT_PUBLICATION_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PUBLICATION_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"TITLE" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_TITLE" NVARCHAR2(255)  NOT NULL,
	"SUMMARY" NVARCHAR2(100),
	"INTRODUCTION" NVARCHAR2(512)  NOT NULL,
	"CONTENT" CLOB,
	"I18N_ACTIVE" NUMBER(1,0),
	"I18N_CREATED_AT" TIMESTAMP,
	"I18N_UPDATED_AT" TIMESTAMP,
	"SHORT_TITLE" NVARCHAR2(60)
);

	ALTER TABLE "EMT_PUBLICATION_I18N"
		ADD CONSTRAINT "EMT_PUBLICATION_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PUBLICATION_I18N" ADD CONSTRAINT "EMT_PUBLICATION_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PUBLICATION" ("ID") ON DELETE CASCADE;


/* EMT_PUBLICATION_SOURCE-------------------------------------------------- */

DROP TABLE "EMT_PUBLICATION_SOURCE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PUBLICATION_SOURCE_SEQ";


CREATE TABLE "EMT_PUBLICATION_SOURCE"
(
	"ID" NUMBER(10)  NOT NULL,
	"TYPE_ID" NUMBER(5)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"ACTIVE" NUMBER(1,0),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"DEFAULT_LANG" NVARCHAR2(7),
	"FEATURED_TYPE" NUMBER(3)
);

	ALTER TABLE "EMT_PUBLICATION_SOURCE"
		ADD CONSTRAINT "EMT_PUBLICATION_SOURCE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PUBLICATION_SOURCE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_PUBLICATION_SOURCE_I18N-------------------------------------------------- */

DROP TABLE "EMT_PUBLICATION_SOURCE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PUBLICATION_SOURCE_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"SHORT_DESCRIPTION" NVARCHAR2(100),
	"DESCRIPTION" NVARCHAR2(512)  NOT NULL
);

	ALTER TABLE "EMT_PUBLICATION_SOURCE_I18N"
		ADD CONSTRAINT "EMT_PUBLICATION_SOURCE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PUBLICATION_SOURCE_I18N" ADD CONSTRAINT "EMT_PUBLICATION_SOURCE_I1_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PUBLICATION_SOURCE" ("ID") ON DELETE CASCADE;


/* EMT_AUTHOR-------------------------------------------------- */

DROP TABLE "EMT_AUTHOR" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_AUTHOR_SEQ";


CREATE TABLE "EMT_AUTHOR"
(
	"ID" NUMBER(10)  NOT NULL,
	"TYPE_ID" NUMBER(5)  NOT NULL,
	"USER_ID" NUMBER(10) default null,
	"SALUTATION" NVARCHAR2(20),
	"NAME" NVARCHAR2(50)  NOT NULL,
	"LASTNAME" NVARCHAR2(50)  NOT NULL,
	"ACTIVE" NUMBER(1,0),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"IS_COLUMNIST" NUMBER(1,0),
	"FEATURED_TYPE" NUMBER(3),
	"DEFAULT_LANG" NVARCHAR2(7)
);

	ALTER TABLE "EMT_AUTHOR"
		ADD CONSTRAINT "EMT_AUTHOR_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_AUTHOR_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_AUTHOR" ADD CONSTRAINT "EMT_AUTHOR_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE SET NULL;


/* EMT_AUTHOR_I18N-------------------------------------------------- */

DROP TABLE "EMT_AUTHOR_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_AUTHOR_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"INTRODUCTION" NVARCHAR2(512),
	"TITLE" NVARCHAR2(100)
);

	ALTER TABLE "EMT_AUTHOR_I18N"
		ADD CONSTRAINT "EMT_AUTHOR_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_AUTHOR_I18N" ADD CONSTRAINT "EMT_AUTHOR_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_AUTHOR" ("ID") ON DELETE CASCADE;


/* EMT_ACTION_LOG-------------------------------------------------- */

DROP TABLE "EMT_ACTION_LOG" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ACTION_LOG_SEQ";


CREATE TABLE "EMT_ACTION_LOG"
(
	"ID" NUMBER(16)  NOT NULL,
	"USER_ID" NUMBER(10) default null,
	"ISSUER_ID" NUMBER(10)  NOT NULL,
	"OBJECT_ID" NUMBER(10),
	"OBJECT_TYPE_ID" NUMBER(3),
	"TARGET_ID" NUMBER(10),
	"ACTION_CASE_ID" NUMBER(5)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_ACTION_LOG"
		ADD CONSTRAINT "EMT_ACTION_LOG_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ACTION_LOG_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_ACTION_LOG" ADD CONSTRAINT "EMT_ACTION_LOG_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_ACTION_LOG" ADD CONSTRAINT "EMT_ACTION_LOG_FK_2" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_ACTION_LOG" ADD CONSTRAINT "EMT_ACTION_LOG_FK_3" FOREIGN KEY ("ACTION_CASE_ID") REFERENCES "EMT_ACTION_CASE" ("ID") ON DELETE SET NULL;


/* EMT_APPLICATION-------------------------------------------------- */

DROP TABLE "EMT_APPLICATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_APPLICATION_SEQ";


CREATE TABLE "EMT_APPLICATION"
(
	"ID" NUMBER(10)  NOT NULL,
	"APP_CODE" NVARCHAR2(30)  NOT NULL,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_APPLICATION"
		ADD CONSTRAINT "EMT_APPLICATION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_APPLICATION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_APPLICATION_I18N-------------------------------------------------- */

DROP TABLE "EMT_APPLICATION_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_APPLICATION_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_APPLICATION_I18N"
		ADD CONSTRAINT "EMT_APPLICATION_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_APPLICATION_I18N" ADD CONSTRAINT "EMT_APPLICATION_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_APPLICATION" ("ID") ON DELETE CASCADE;


/* EMT_SERVICE-------------------------------------------------- */

DROP TABLE "EMT_SERVICE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_SERVICE_SEQ";


CREATE TABLE "EMT_SERVICE"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"APPLICATION_ID" NUMBER(10)  NOT NULL,
	"APPLIES_TO_TYPE_ID" NUMBER(3)  NOT NULL,
	"ACTIVE" NUMBER(1,0) default 0 NOT NULL,
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"DETAIL_PARTIAL" NVARCHAR2(50),
	"IMAGE_ID" NUMBER(15)
);

	ALTER TABLE "EMT_SERVICE"
		ADD CONSTRAINT "EMT_SERVICE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_SERVICE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_SERVICE" ADD CONSTRAINT "EMT_SERVICE_FK_1" FOREIGN KEY ("APPLICATION_ID") REFERENCES "EMT_APPLICATION" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_SERVICE" ADD CONSTRAINT "EMT_SERVICE_FK_2" FOREIGN KEY ("APPLIES_TO_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_SERVICE" ADD CONSTRAINT "EMT_SERVICE_FK_3" FOREIGN KEY ("IMAGE_ID") REFERENCES "EMT_MEDIA_ITEM" ("ID") ON DELETE SET NULL;


/* EMT_SERVICE_I18N-------------------------------------------------- */

DROP TABLE "EMT_SERVICE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_SERVICE_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"INTRODUCTION" NVARCHAR2(2000)
);

	ALTER TABLE "EMT_SERVICE_I18N"
		ADD CONSTRAINT "EMT_SERVICE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_SERVICE_I18N" ADD CONSTRAINT "EMT_SERVICE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_SERVICE" ("ID") ON DELETE CASCADE;


/* EMT_MARKETING_PACKAGE-------------------------------------------------- */

DROP TABLE "EMT_MARKETING_PACKAGE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MARKETING_PACKAGE_SEQ";


CREATE TABLE "EMT_MARKETING_PACKAGE"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"APPLICATION_ID" NUMBER(10)  NOT NULL,
	"APPLIES_TO_TYPE_ID" NUMBER(3)  NOT NULL,
	"VALID_FROM" TIMESTAMP  NOT NULL,
	"VALID_TO" TIMESTAMP,
	"ACTIVE" NUMBER(1,0) default 0,
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"IS_FEATURED" NUMBER(1,0) default 0
);

	ALTER TABLE "EMT_MARKETING_PACKAGE"
		ADD CONSTRAINT "EMT_MARKETING_PACKAGE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MARKETING_PACKAGE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MARKETING_PACKAGE" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_FK_1" FOREIGN KEY ("APPLICATION_ID") REFERENCES "EMT_APPLICATION" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_MARKETING_PACKAGE" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_FK_2" FOREIGN KEY ("APPLIES_TO_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_MARKETING_PACKAGE_I18N-------------------------------------------------- */

DROP TABLE "EMT_MARKETING_PACKAGE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_MARKETING_PACKAGE_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"DESCRIPTION" NVARCHAR2(2000)  NOT NULL
);

	ALTER TABLE "EMT_MARKETING_PACKAGE_I18N"
		ADD CONSTRAINT "EMT_MARKETING_PACKAGE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_MARKETING_PACKAGE_I18N" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_I18_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_MARKETING_PACKAGE" ("ID") ON DELETE CASCADE;


/* EMT_MARKETING_PACKAGE_ITEM-------------------------------------------------- */

DROP TABLE "EMT_MARKETING_PACKAGE_ITEM" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MARKETING_PACKAGE_ITEM_SEQ";


CREATE TABLE "EMT_MARKETING_PACKAGE_ITEM"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"PACKAGE_ID" NUMBER(10)  NOT NULL,
	"SERVICE_ID" NUMBER(10)  NOT NULL,
	"QUANTITY" NUMBER(5)  NOT NULL,
	"TIME_LIMIT_TYPE_ID" NUMBER(3),
	"TIME_LIMIT" NUMBER(5),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_MARKETING_PACKAGE_ITEM"
		ADD CONSTRAINT "EMT_MARKETING_PACKAGE_ITEM_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MARKETING_PACKAGE_ITEM_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MARKETING_PACKAGE_ITEM" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_ITE_FK_1" FOREIGN KEY ("PACKAGE_ID") REFERENCES "EMT_MARKETING_PACKAGE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_MARKETING_PACKAGE_ITEM" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_ITE_FK_2" FOREIGN KEY ("SERVICE_ID") REFERENCES "EMT_SERVICE" ("ID") ON DELETE CASCADE;


/* EMT_PURCHASE-------------------------------------------------- */

DROP TABLE "EMT_PURCHASE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PURCHASE_SEQ";


CREATE TABLE "EMT_PURCHASE"
(
	"ID" NUMBER(16)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"BUYER_ID" NUMBER(10)  NOT NULL,
	"BUYER_TYPE_ID" NUMBER(3)  NOT NULL,
	"ACTIVE" NUMBER(1,0) default 0 NOT NULL,
	"SUB_TOTAL" NUMBER(10),
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PURCHASE"
		ADD CONSTRAINT "EMT_PURCHASE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PURCHASE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PURCHASE" ADD CONSTRAINT "EMT_PURCHASE_FK_1" FOREIGN KEY ("BUYER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_PURCHASE_ITEM-------------------------------------------------- */

DROP TABLE "EMT_PURCHASE_ITEM" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PURCHASE_ITEM_SEQ";


CREATE TABLE "EMT_PURCHASE_ITEM"
(
	"ID" NUMBER(16)  NOT NULL,
	"PURCHASE_ID" NUMBER(16)  NOT NULL,
	"PACKAGE_ID" NUMBER(10)  NOT NULL,
	"ACTIVE" NUMBER(1,0) default 0 NOT NULL,
	"SUB_TOTAL" NUMBER(10),
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PURCHASE_ITEM"
		ADD CONSTRAINT "EMT_PURCHASE_ITEM_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PURCHASE_ITEM_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PURCHASE_ITEM" ADD CONSTRAINT "EMT_PURCHASE_ITEM_FK_1" FOREIGN KEY ("PURCHASE_ID") REFERENCES "EMT_PURCHASE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_PURCHASE_ITEM" ADD CONSTRAINT "EMT_PURCHASE_ITEM_FK_2" FOREIGN KEY ("PACKAGE_ID") REFERENCES "EMT_MARKETING_PACKAGE" ("ID") ON DELETE CASCADE;


/* EMT_PAYMENT-------------------------------------------------- */

DROP TABLE "EMT_PAYMENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PAYMENT_SEQ";


CREATE TABLE "EMT_PAYMENT"
(
	"ID" NUMBER(16)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"PURCHASE_ID" NUMBER(10),
	"PAYER_ID" NUMBER(16)  NOT NULL,
	"PAYER_TYPE_ID" NUMBER(3)  NOT NULL,
	"CREDIT_ACCOUNT_ID" NUMBER(10),
	"CREDIT_PAYMENT" NUMBER(1,0),
	"TOTAL_AMOUNT" NUMBER(10),
	"COUPON_CODE" NUMBER(10),
	"DISCOUNT_TYPE_ID" NUMBER(10),
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PAYMENT"
		ADD CONSTRAINT "EMT_PAYMENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PAYMENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PAYMENT" ADD CONSTRAINT "EMT_PAYMENT_FK_1" FOREIGN KEY ("PURCHASE_ID") REFERENCES "EMT_PURCHASE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_PAYMENT" ADD CONSTRAINT "EMT_PAYMENT_FK_2" FOREIGN KEY ("PAYER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_PAYMENT" ADD CONSTRAINT "EMT_PAYMENT_FK_3" FOREIGN KEY ("CREDIT_ACCOUNT_ID") REFERENCES "EMT_CREDIT_ACCOUNT" ("ID") ON DELETE RESTRICT;


/* EMT_PAYMENT_TRANSACTION-------------------------------------------------- */

DROP TABLE "EMT_PAYMENT_TRANSACTION" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PAYMENT_TRANSACTION"
(
	"ID" NUMBER(16)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"PAYER_ID" NUMBER(16)  NOT NULL,
	"PAYER_TYPE_ID" NUMBER(3)  NOT NULL,
	"TYPE_ID" NUMBER(3)  NOT NULL,
	"AMOUNT" NUMBER(10),
	"THIRD_PARTY_ID" NVARCHAR2(250) default '',
	"NOTE" NVARCHAR2(250) default '',
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PAYMENT_TRANSACTION"
		ADD CONSTRAINT "EMT_PAYMENT_TRANSACTION_PK"
	PRIMARY KEY ("ID","GUID");

ALTER TABLE "EMT_PAYMENT_TRANSACTION" ADD CONSTRAINT "EMT_PAYMENT_TRANSACTION_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PAYMENT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_PAYMENT_TRANSACTION" ADD CONSTRAINT "EMT_PAYMENT_TRANSACTION_FK_2" FOREIGN KEY ("PAYER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_CREDIT_ACCOUNT-------------------------------------------------- */

DROP TABLE "EMT_CREDIT_ACCOUNT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CREDIT_ACCOUNT_SEQ";


CREATE TABLE "EMT_CREDIT_ACCOUNT"
(
	"ID" NUMBER(16)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"HOLDER_ID" NUMBER(16)  NOT NULL,
	"HOLDER_TYPE_ID" NUMBER(3)  NOT NULL,
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_CREDIT_ACCOUNT"
		ADD CONSTRAINT "EMT_CREDIT_ACCOUNT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CREDIT_ACCOUNT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CREDIT_ACCOUNT" ADD CONSTRAINT "EMT_CREDIT_ACCOUNT_FK_1" FOREIGN KEY ("HOLDER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_PAYMENT_TYPE-------------------------------------------------- */

DROP TABLE "EMT_PAYMENT_TYPE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PAYMENT_TYPE_SEQ";


CREATE TABLE "EMT_PAYMENT_TYPE"
(
	"ID" NUMBER(3)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_PAYMENT_TYPE"
		ADD CONSTRAINT "EMT_PAYMENT_TYPE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PAYMENT_TYPE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_PAYMENT_TYPE_I18N-------------------------------------------------- */

DROP TABLE "EMT_PAYMENT_TYPE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PAYMENT_TYPE_I18N"
(
	"ID" NUMBER(3)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_PAYMENT_TYPE_I18N"
		ADD CONSTRAINT "EMT_PAYMENT_TYPE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PAYMENT_TYPE_I18N" ADD CONSTRAINT "EMT_PAYMENT_TYPE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PAYMENT_TYPE" ("ID") ON DELETE CASCADE;


/* EMT_JOB-------------------------------------------------- */

DROP TABLE "EMT_JOB" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_SEQ";


CREATE TABLE "EMT_JOB"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"OWNER_ID" NUMBER(16)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL,
	"REF_CODE" NVARCHAR2(50),
	"TITLE" NVARCHAR2(255),
	"TEMPLATE_ID" NUMBER(4),
	"DEFAULT_LANG" NVARCHAR2(7),
	"STATUS" NUMBER(3) default 1,
	"CORPORATE_IMAGE_ID" NUMBER(15),
	"PURCHASE_ITEM_ID" NUMBER(10)  NOT NULL,
	"SALLARY_TYPE" NUMBER(3),
	"SALLARY_START" NUMBER(16),
	"SALLARY_END" NUMBER(16),
	"SALLARY_CURRENCY" NVARCHAR2(5),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_JOB"
		ADD CONSTRAINT "EMT_JOB_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_JOB_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_JOB_I_1" ON "EMT_JOB" ("OWNER_ID");

ALTER TABLE "EMT_JOB" ADD CONSTRAINT "EMT_JOB_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_JOB" ADD CONSTRAINT "EMT_JOB_FK_2" FOREIGN KEY ("CORPORATE_IMAGE_ID") REFERENCES "EMT_MEDIA_ITEM" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_JOB" ADD CONSTRAINT "EMT_JOB_FK_3" FOREIGN KEY ("PURCHASE_ITEM_ID") REFERENCES "EMT_PURCHASE_ITEM" ("ID") ON DELETE NO ACTION;


/* EMT_JOB_I18N-------------------------------------------------- */

DROP TABLE "EMT_JOB_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_JOB_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"DISPLAY_TITLE" NVARCHAR2(255),
	"DESCRIPTION" CLOB,
	"RESPONSIBILITY" CLOB,
	"REQUIREMENTS" CLOB,
	"HTML" CLOB,
	"SPOT_INTRO" NVARCHAR2(1500)
);

	ALTER TABLE "EMT_JOB_I18N"
		ADD CONSTRAINT "EMT_JOB_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_JOB_I18N" ADD CONSTRAINT "EMT_JOB_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_JOB" ("ID") ON DELETE CASCADE;


/* EMT_HR_PROFILE-------------------------------------------------- */

DROP TABLE "EMT_HR_PROFILE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_HR_PROFILE_SEQ";


CREATE TABLE "EMT_HR_PROFILE"
(
	"ID" NUMBER(10)  NOT NULL,
	"OWNER_ID" NUMBER(16)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL,
	"NAME" NVARCHAR2(255),
	"LOGO_ID" NUMBER(15),
	"DEFAULT_TEMPLATE_ID" NUMBER(4),
	"TEMPLATE_DATA" CLOB
);

	ALTER TABLE "EMT_HR_PROFILE"
		ADD CONSTRAINT "EMT_HR_PROFILE_PK"
	PRIMARY KEY ("ID","OWNER_TYPE_ID");
CREATE SEQUENCE "EMT_HR_PROFILE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_HR_PROFILE_I_1" ON "EMT_HR_PROFILE" ("OWNER_ID");

ALTER TABLE "EMT_HR_PROFILE" ADD CONSTRAINT "EMT_HR_PROFILE_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_HR_PROFILE" ADD CONSTRAINT "EMT_HR_PROFILE_FK_2" FOREIGN KEY ("LOGO_ID") REFERENCES "EMT_MEDIA_ITEM" ("ID") ON DELETE SET NULL;


/* EMT_CONSENT_LOGIN-------------------------------------------------- */

DROP TABLE "EMT_CONSENT_LOGIN" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CONSENT_LOGIN_SEQ";


CREATE TABLE "EMT_CONSENT_LOGIN"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"USER_ID" NUMBER(10),
	"TOKEN" CLOB,
	"EXPIRY" TIMESTAMP,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"SERVICE_ID" NUMBER(4)  NOT NULL
);

	ALTER TABLE "EMT_CONSENT_LOGIN"
		ADD CONSTRAINT "EMT_CONSENT_LOGIN_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CONSENT_LOGIN_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CONSENT_LOGIN" ADD CONSTRAINT "EMT_CONSENT_LOGIN_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE SET NULL;


/* EMT_CONSENT_CONTACT-------------------------------------------------- */

DROP TABLE "EMT_CONSENT_CONTACT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CONSENT_CONTACT_SEQ";


CREATE TABLE "EMT_CONSENT_CONTACT"
(
	"ID" NUMBER(10)  NOT NULL,
	"CONSENT_LOGIN_ID" NUMBER(10),
	"EMAIL" NVARCHAR2(80)  NOT NULL,
	"NAME" NVARCHAR2(50),
	"LASTNAME" NVARCHAR2(50),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_CONSENT_CONTACT"
		ADD CONSTRAINT "EMT_CONSENT_CONTACT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CONSENT_CONTACT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CONSENT_CONTACT" ADD CONSTRAINT "EMT_CONSENT_CONTACT_FK_1" FOREIGN KEY ("CONSENT_LOGIN_ID") REFERENCES "EMT_CONSENT_LOGIN" ("ID") ON DELETE CASCADE;


/* EMT_SELECTED_HR_SECTOR-------------------------------------------------- */

DROP TABLE "EMT_SELECTED_HR_SECTOR" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_SELECTED_HR_SECTOR_SEQ";


CREATE TABLE "EMT_SELECTED_HR_SECTOR"
(
	"ID" NUMBER(10)  NOT NULL,
	"USER_ID" NUMBER(10)  NOT NULL,
	"SECTOR_ID" NUMBER(4)  NOT NULL
);

	ALTER TABLE "EMT_SELECTED_HR_SECTOR"
		ADD CONSTRAINT "EMT_SELECTED_HR_SECTOR_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_SELECTED_HR_SECTOR_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_SELECTED_HR_SECTOR_I_1" ON "EMT_SELECTED_HR_SECTOR" ("SECTOR_ID");

ALTER TABLE "EMT_SELECTED_HR_SECTOR" ADD CONSTRAINT "EMT_SELECTED_HR_SECTOR_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_SELECTED_HR_SECTOR" ADD CONSTRAINT "EMT_SELECTED_HR_SECTOR_FK_2" FOREIGN KEY ("SECTOR_ID") REFERENCES "EMT_BUSINESS_SECTOR" ("ID") ON DELETE SET NULL;


/* EMT_USER_JOB-------------------------------------------------- */

DROP TABLE "EMT_USER_JOB" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_USER_JOB_SEQ";


CREATE TABLE "EMT_USER_JOB"
(
	"ID" NUMBER(10)  NOT NULL,
	"USER_ID" NUMBER(10)  NOT NULL,
	"JOB_ID" NUMBER(10)  NOT NULL,
	"TYPE_ID" NUMBER(3)  NOT NULL,
	"CREATED_AT" TIMESTAMP,
	"FLAG_TYPE" NUMBER(3),
	"EMPLOYER_READ" NUMBER(1,0) default 0,
	"FOLDER_ID" NUMBER(3),
	"STATUS_ID" NUMBER(3) default 0 NOT NULL
);

	ALTER TABLE "EMT_USER_JOB"
		ADD CONSTRAINT "EMT_USER_JOB_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_USER_JOB_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_USER_JOB" ADD CONSTRAINT "EMT_USER_JOB_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_USER_JOB" ADD CONSTRAINT "EMT_USER_JOB_FK_2" FOREIGN KEY ("JOB_ID") REFERENCES "EMT_JOB" ("ID") ON DELETE CASCADE;


/* EMT_RESUME_FOLDER-------------------------------------------------- */

DROP TABLE "EMT_RESUME_FOLDER" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RESUME_FOLDER_SEQ";


CREATE TABLE "EMT_RESUME_FOLDER"
(
	"ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"HR_PROFILE_ID" NUMBER(10)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_RESUME_FOLDER"
		ADD CONSTRAINT "EMT_RESUME_FOLDER_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RESUME_FOLDER_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RESUME_FOLDER" ADD CONSTRAINT "EMT_RESUME_FOLDER_FK_1" FOREIGN KEY ("HR_PROFILE_ID") REFERENCES "EMT_HR_PROFILE" ("ID") ON DELETE CASCADE;


/* EMT_CLASSIFIED_RESUME-------------------------------------------------- */

DROP TABLE "EMT_CLASSIFIED_RESUME" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CLASSIFIED_RESUME_SEQ";


CREATE TABLE "EMT_CLASSIFIED_RESUME"
(
	"ID" NUMBER(10)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"FOLDER_ID" NUMBER(10)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_CLASSIFIED_RESUME"
		ADD CONSTRAINT "EMT_CLASSIFIED_RESUME_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CLASSIFIED_RESUME_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CLASSIFIED_RESUME" ADD CONSTRAINT "EMT_CLASSIFIED_RESUME_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_CLASSIFIED_RESUME" ADD CONSTRAINT "EMT_CLASSIFIED_RESUME_FK_2" FOREIGN KEY ("FOLDER_ID") REFERENCES "EMT_RESUME_FOLDER" ("ID") ON DELETE CASCADE;


/* EMT_DATABASE_CV-------------------------------------------------- */

DROP TABLE "EMT_DATABASE_CV" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_DATABASE_CV_SEQ";


CREATE TABLE "EMT_DATABASE_CV"
(
	"ID" NUMBER(10)  NOT NULL,
	"RESUME_ID" NUMBER(10)  NOT NULL,
	"HR_PROFILE_ID" NUMBER(10)  NOT NULL,
	"CHANNEL_TYPE_ID" NUMBER(3)  NOT NULL,
	"FOLDER_ID" NUMBER(3),
	"FLAG_TYPE" NUMBER(3),
	"PURCHASE_ITEM_ID" NUMBER(10)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_DATABASE_CV"
		ADD CONSTRAINT "EMT_DATABASE_CV_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_DATABASE_CV_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_DATABASE_CV" ADD CONSTRAINT "EMT_DATABASE_CV_FK_1" FOREIGN KEY ("RESUME_ID") REFERENCES "EMT_RESUME" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_DATABASE_CV" ADD CONSTRAINT "EMT_DATABASE_CV_FK_2" FOREIGN KEY ("HR_PROFILE_ID") REFERENCES "EMT_HR_PROFILE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_DATABASE_CV" ADD CONSTRAINT "EMT_DATABASE_CV_FK_3" FOREIGN KEY ("PURCHASE_ITEM_ID") REFERENCES "EMT_PURCHASE_ITEM" ("ID") ON DELETE NO ACTION;


/* EMT_USER_BOOKMARK-------------------------------------------------- */

DROP TABLE "EMT_USER_BOOKMARK" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_USER_BOOKMARK_SEQ";


CREATE TABLE "EMT_USER_BOOKMARK"
(
	"ID" NUMBER(10)  NOT NULL,
	"USER_ID" NUMBER(10)  NOT NULL,
	"ITEM_ID" NUMBER(10)  NOT NULL,
	"ITEM_TYPE_ID" NUMBER(3)  NOT NULL,
	"TYPE_ID" NUMBER(3)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_USER_BOOKMARK"
		ADD CONSTRAINT "EMT_USER_BOOKMARK_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_USER_BOOKMARK_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_USER_BOOKMARK" ADD CONSTRAINT "EMT_USER_BOOKMARK_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_USER_BOOKMARK" ADD CONSTRAINT "EMT_USER_BOOKMARK_FK_2" FOREIGN KEY ("ITEM_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_JOB_MESSAGE_TEMPLATE-------------------------------------------------- */

DROP TABLE "EMT_JOB_MESSAGE_TEMPLATE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_MESSAGE_TEMPLATE_SEQ";


CREATE TABLE "EMT_JOB_MESSAGE_TEMPLATE"
(
	"ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"HR_PROFILE_ID" NUMBER(10)  NOT NULL,
	"TYPE_ID" NUMBER(3),
	"DEFAULT_LANG" NVARCHAR2(7)
);

	ALTER TABLE "EMT_JOB_MESSAGE_TEMPLATE"
		ADD CONSTRAINT "EMT_JOB_MESSAGE_TEMPLATE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_JOB_MESSAGE_TEMPLATE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_JOB_MESSAGE_TEMPLATE" ADD CONSTRAINT "EMT_JOB_MESSAGE_TEMPLATE_FK_1" FOREIGN KEY ("HR_PROFILE_ID") REFERENCES "EMT_HR_PROFILE" ("ID") ON DELETE CASCADE;


/* EMT_JOB_MESSAGE_TEMPLATE_I18N-------------------------------------------------- */

DROP TABLE "EMT_JOB_MESSAGE_TEMPLATE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_JOB_MESSAGE_TEMPLATE_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"TITLE" NVARCHAR2(200),
	"CONTENT" CLOB
);

	ALTER TABLE "EMT_JOB_MESSAGE_TEMPLATE_I18N"
		ADD CONSTRAINT "EMT_JOB_MESSAGE_TEMPLATE_I1_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_JOB_MESSAGE_TEMPLATE_I18N" ADD CONSTRAINT "EMT_JOB_MESSAGE_TEMPLATE__FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_JOB_MESSAGE_TEMPLATE" ("ID") ON DELETE CASCADE;


/* EMT_JOB_MESSAGE-------------------------------------------------- */

DROP TABLE "EMT_JOB_MESSAGE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_MESSAGE_SEQ";


CREATE TABLE "EMT_JOB_MESSAGE"
(
	"TITLE" NVARCHAR2(255)  NOT NULL,
	"HR_PROFILE_ID" NUMBER(10)  NOT NULL,
	"USER_ID" NUMBER(10)  NOT NULL,
	"JOB_ID" NUMBER(10)  NOT NULL,
	"STATUS_ID" NUMBER(3) default 0 NOT NULL,
	"TEMPLATE_ID" NUMBER(3)  NOT NULL,
	"EMPLOYEE_READ" NUMBER(1,0) default 0,
	"EMPLOYEE_READ_AT" TIMESTAMP,
	"CREATED_AT" TIMESTAMP,
	"id" NUMBER  NOT NULL
);

	ALTER TABLE "EMT_JOB_MESSAGE"
		ADD CONSTRAINT "EMT_JOB_MESSAGE_PK"
	PRIMARY KEY ("id");
CREATE SEQUENCE "EMT_JOB_MESSAGE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_JOB_MESSAGE" ADD CONSTRAINT "EMT_JOB_MESSAGE_FK_1" FOREIGN KEY ("HR_PROFILE_ID") REFERENCES "EMT_HR_PROFILE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_JOB_MESSAGE" ADD CONSTRAINT "EMT_JOB_MESSAGE_FK_2" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_JOB_MESSAGE" ADD CONSTRAINT "EMT_JOB_MESSAGE_FK_3" FOREIGN KEY ("JOB_ID") REFERENCES "EMT_JOB" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_JOB_MESSAGE" ADD CONSTRAINT "EMT_JOB_MESSAGE_FK_4" FOREIGN KEY ("TEMPLATE_ID") REFERENCES "EMT_JOB_MESSAGE_TEMPLATE" ("ID") ON DELETE CASCADE;


/* EMT_INVITE_FRIEND-------------------------------------------------- */

DROP TABLE "EMT_INVITE_FRIEND" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_INVITE_FRIEND_SEQ";


CREATE TABLE "EMT_INVITE_FRIEND"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"INVITER_ID" NUMBER(10),
	"INVITER_TYPE_ID" NUMBER(3)  NOT NULL,
	"EMAIL" NVARCHAR2(80)  NOT NULL,
	"NAME" NVARCHAR2(50),
	"LASTNAME" NVARCHAR2(50),
	"MESSAGE" NVARCHAR2(2000),
	"IS_READ" NUMBER(1,0) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"INVITED_TO_ID" NUMBER(10),
	"INVITED_TO_TYPE_ID" NUMBER(3)  NOT NULL
);

	ALTER TABLE "EMT_INVITE_FRIEND"
		ADD CONSTRAINT "EMT_INVITE_FRIEND_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_INVITE_FRIEND_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_INVITE_FRIEND" ADD CONSTRAINT "EMT_INVITE_FRIEND_FK_1" FOREIGN KEY ("INVITER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_INVITE_FRIEND" ADD CONSTRAINT "EMT_INVITE_FRIEND_FK_2" FOREIGN KEY ("INVITED_TO_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_GROUP_TYPE-------------------------------------------------- */

DROP TABLE "EMT_GROUP_TYPE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_GROUP_TYPE_SEQ";


CREATE TABLE "EMT_GROUP_TYPE"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_GROUP_TYPE"
		ADD CONSTRAINT "EMT_GROUP_TYPE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_GROUP_TYPE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_GROUP_TYPE_I18N-------------------------------------------------- */

DROP TABLE "EMT_GROUP_TYPE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_GROUP_TYPE_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_GROUP_TYPE_I18N"
		ADD CONSTRAINT "EMT_GROUP_TYPE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_GROUP_TYPE_I18N" ADD CONSTRAINT "EMT_GROUP_TYPE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_GROUP_TYPE" ("ID") ON DELETE CASCADE;


/* EMT_GROUP_INTEREST_AREA-------------------------------------------------- */

DROP TABLE "EMT_GROUP_INTEREST_AREA" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_GROUP_INTEREST_AREA_SEQ";


CREATE TABLE "EMT_GROUP_INTEREST_AREA"
(
	"ID" NUMBER(4)  NOT NULL,
	"TYPE_ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_GROUP_INTEREST_AREA"
		ADD CONSTRAINT "EMT_GROUP_INTEREST_AREA_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_GROUP_INTEREST_AREA_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_GROUP_INTEREST_AREA_I_1" ON "EMT_GROUP_INTEREST_AREA" ("TYPE_ID");

ALTER TABLE "EMT_GROUP_INTEREST_AREA" ADD CONSTRAINT "EMT_GROUP_INTEREST_AREA_FK_1" FOREIGN KEY ("TYPE_ID") REFERENCES "EMT_GROUP_TYPE" ("ID") ON DELETE SET NULL;


/* EMT_GROUP_INTEREST_AREA_I18N-------------------------------------------------- */

DROP TABLE "EMT_GROUP_INTEREST_AREA_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_GROUP_INTEREST_AREA_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_NAME" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_GROUP_INTEREST_AREA_I18N"
		ADD CONSTRAINT "EMT_GROUP_INTEREST_AREA_I18_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_GROUP_INTEREST_AREA_I18N" ADD CONSTRAINT "EMT_GROUP_INTEREST_AREA_I_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_GROUP_INTEREST_AREA" ("ID") ON DELETE CASCADE;


/* EMT_GROUP-------------------------------------------------- */

DROP TABLE "EMT_GROUP" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_GROUP_SEQ";


CREATE TABLE "EMT_GROUP"
(
	"ID" NUMBER(10)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"PARENT_ID" NUMBER(10),
	"TYPE_ID" NUMBER(4)  NOT NULL,
	"INTEREST_AREA_ID" NUMBER(4)  NOT NULL,
	"CONTACT_ID" NUMBER(10),
	"URL" NVARCHAR2(255),
	"FOUNDED_IN" TIMESTAMP,
	"AVAILABLE" NUMBER(1,0) default 1,
	"BLOCKED" NUMBER(1,0) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"PUBLICITY" NUMBER(3) default 2,
	"STRIPPED_NAME" NVARCHAR2(255)  NOT NULL,
	"IS_FEATURED" NUMBER(1,0) default 0
);

	ALTER TABLE "EMT_GROUP"
		ADD CONSTRAINT "EMT_GROUP_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_GROUP_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_GROUP_I_1" ON "EMT_GROUP" ("PARENT_ID");
CREATE INDEX "EMT_GROUP_I_2" ON "EMT_GROUP" ("TYPE_ID");
CREATE INDEX "EMT_GROUP_I_3" ON "EMT_GROUP" ("INTEREST_AREA_ID");

ALTER TABLE "EMT_GROUP" ADD CONSTRAINT "EMT_GROUP_FK_1" FOREIGN KEY ("PARENT_ID") REFERENCES "EMT_GROUP" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_GROUP" ADD CONSTRAINT "EMT_GROUP_FK_2" FOREIGN KEY ("TYPE_ID") REFERENCES "EMT_GROUP_TYPE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_GROUP" ADD CONSTRAINT "EMT_GROUP_FK_3" FOREIGN KEY ("INTEREST_AREA_ID") REFERENCES "EMT_GROUP_INTEREST_AREA" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_GROUP" ADD CONSTRAINT "EMT_GROUP_FK_4" FOREIGN KEY ("CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE SET NULL;


/* EMT_GROUP_I18N-------------------------------------------------- */

DROP TABLE "EMT_GROUP_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_GROUP_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"ABBREVIATION" NVARCHAR2(50),
	"STRIPPED_DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"INTRODUCTION" NVARCHAR2(2000),
	"MEMBER_PROFILE" NVARCHAR2(2000),
	"EVENTS_INTRODUCTION" NVARCHAR2(2000)
);

	ALTER TABLE "EMT_GROUP_I18N"
		ADD CONSTRAINT "EMT_GROUP_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_GROUP_I18N" ADD CONSTRAINT "EMT_GROUP_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_GROUP" ("ID") ON DELETE CASCADE;


/* EMT_GROUP_MEMBERSHIP-------------------------------------------------- */

DROP TABLE "EMT_GROUP_MEMBERSHIP" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_GROUP_MEMBERSHIP_SEQ";


CREATE TABLE "EMT_GROUP_MEMBERSHIP"
(
	"ID" NUMBER(10)  NOT NULL,
	"INVITER_ID" NUMBER(10),
	"INVITER_TYPE_ID" NUMBER(3),
	"OBJECT_ID" NUMBER(10),
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"GROUP_ID" NUMBER(10)  NOT NULL,
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"STATUS" NUMBER(2) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_GROUP_MEMBERSHIP"
		ADD CONSTRAINT "EMT_GROUP_MEMBERSHIP_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_GROUP_MEMBERSHIP_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_GROUP_MEMBERSHIP_I_1" ON "EMT_GROUP_MEMBERSHIP" ("GROUP_ID");

ALTER TABLE "EMT_GROUP_MEMBERSHIP" ADD CONSTRAINT "EMT_GROUP_MEMBERSHIP_FK_1" FOREIGN KEY ("INVITER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_GROUP_MEMBERSHIP" ADD CONSTRAINT "EMT_GROUP_MEMBERSHIP_FK_2" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_GROUP_MEMBERSHIP" ADD CONSTRAINT "EMT_GROUP_MEMBERSHIP_FK_3" FOREIGN KEY ("GROUP_ID") REFERENCES "EMT_GROUP" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_GROUP_MEMBERSHIP" ADD CONSTRAINT "EMT_GROUP_MEMBERSHIP_FK_4" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;


/* EMT_STATUS_UPDATE-------------------------------------------------- */

DROP TABLE "EMT_STATUS_UPDATE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_STATUS_UPDATE_SEQ";


CREATE TABLE "EMT_STATUS_UPDATE"
(
	"ID" NUMBER(10)  NOT NULL,
	"OBJECT_ID" NUMBER(10),
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"MESSAGE" NVARCHAR2(500),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_STATUS_UPDATE"
		ADD CONSTRAINT "EMT_STATUS_UPDATE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_STATUS_UPDATE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_STATUS_UPDATE" ADD CONSTRAINT "EMT_STATUS_UPDATE_FK_1" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_LOCATION_UPDATE-------------------------------------------------- */

DROP TABLE "EMT_LOCATION_UPDATE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_LOCATION_UPDATE_SEQ";


CREATE TABLE "EMT_LOCATION_UPDATE"
(
	"ID" NUMBER(10)  NOT NULL,
	"OBJECT_ID" NUMBER(10),
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"COUNTRY" NVARCHAR2(5),
	"STATE" NUMBER(7),
	"CITY" NUMBER(7),
	"DATE_FROM" TIMESTAMP,
	"DATE_TO" TIMESTAMP,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_LOCATION_UPDATE"
		ADD CONSTRAINT "EMT_LOCATION_UPDATE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_LOCATION_UPDATE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_LOCATION_UPDATE" ADD CONSTRAINT "EMT_LOCATION_UPDATE_FK_1" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_LOCATION_UPDATE" ADD CONSTRAINT "EMT_LOCATION_UPDATE_FK_2" FOREIGN KEY ("STATE") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;

ALTER TABLE "EMT_LOCATION_UPDATE" ADD CONSTRAINT "EMT_LOCATION_UPDATE_FK_3" FOREIGN KEY ("CITY") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;


/* EMT_COMMENT-------------------------------------------------- */

DROP TABLE "EMT_COMMENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_COMMENT_SEQ";


CREATE TABLE "EMT_COMMENT"
(
	"ID" NUMBER(10)  NOT NULL,
	"ITEM_ID" NUMBER(10),
	"ITEM_TYPE_ID" NUMBER(3)  NOT NULL,
	"COMMENTER_ID" NUMBER(10),
	"COMMENTER_TYPE_ID" NUMBER(3)  NOT NULL,
	"TEXT" NVARCHAR2(2000),
	"DELETED_AT" TIMESTAMP,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_COMMENT"
		ADD CONSTRAINT "EMT_COMMENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_COMMENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_COMMENT" ADD CONSTRAINT "EMT_COMMENT_FK_1" FOREIGN KEY ("ITEM_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_COMMENT" ADD CONSTRAINT "EMT_COMMENT_FK_2" FOREIGN KEY ("COMMENTER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_ACTION_CASE-------------------------------------------------- */

DROP TABLE "EMT_ACTION_CASE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ACTION_CASE_SEQ";


CREATE TABLE "EMT_ACTION_CASE"
(
	"ID" NUMBER(10)  NOT NULL,
	"ACTION_ID" NUMBER(5)  NOT NULL,
	"ISSUER_TYPE_ID" NUMBER(3)  NOT NULL,
	"TARGET_TYPE_ID" NUMBER(3)  NOT NULL,
	"PRIVACY_CONTROLLED" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_ACTION_CASE"
		ADD CONSTRAINT "EMT_ACTION_CASE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ACTION_CASE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_ACTION_CASE" ADD CONSTRAINT "EMT_ACTION_CASE_FK_1" FOREIGN KEY ("ACTION_ID") REFERENCES "EMT_ACTION" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_ACTION_CASE" ADD CONSTRAINT "EMT_ACTION_CASE_FK_2" FOREIGN KEY ("ISSUER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_ACTION_CASE" ADD CONSTRAINT "EMT_ACTION_CASE_FK_3" FOREIGN KEY ("TARGET_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_ACTION_CASE_I18N-------------------------------------------------- */

DROP TABLE "EMT_ACTION_CASE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_ACTION_CASE_I18N"
(
	"ID" NUMBER(5)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"LOG_SENTENCE" NVARCHAR2(255),
	"SETTINGS_LABEL" NVARCHAR2(255)
);

	ALTER TABLE "EMT_ACTION_CASE_I18N"
		ADD CONSTRAINT "EMT_ACTION_CASE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_ACTION_CASE_I18N" ADD CONSTRAINT "EMT_ACTION_CASE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_ACTION_CASE" ("ID") ON DELETE CASCADE;


/* EMT_RELATION_UPDATE-------------------------------------------------- */

DROP TABLE "EMT_RELATION_UPDATE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_RELATION_UPDATE_SEQ";


CREATE TABLE "EMT_RELATION_UPDATE"
(
	"ID" NUMBER(10)  NOT NULL,
	"SUBJECT_ID" NUMBER(10)  NOT NULL,
	"SUBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"OBJECT_ID" NUMBER(10)  NOT NULL,
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"STATUS" NUMBER(2) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_RELATION_UPDATE"
		ADD CONSTRAINT "EMT_RELATION_UPDATE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_RELATION_UPDATE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_RELATION_UPDATE" ADD CONSTRAINT "EMT_RELATION_UPDATE_FK_1" FOREIGN KEY ("SUBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_RELATION_UPDATE" ADD CONSTRAINT "EMT_RELATION_UPDATE_FK_2" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_RELATION_UPDATE" ADD CONSTRAINT "EMT_RELATION_UPDATE_FK_3" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;


/* EMT_POLL-------------------------------------------------- */

DROP TABLE "EMT_POLL" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POLL_SEQ";


CREATE TABLE "EMT_POLL"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"TYPE_ID" NUMBER(2)  NOT NULL,
	"POLL_NAMESPACE" NVARCHAR2(255),
	"STATUS" NUMBER(2) default 0,
	"REFERER_MASK" NVARCHAR2(255)  NOT NULL,
	"RETURN_TO" NVARCHAR2(255),
	"DATE_FROM" TIMESTAMP,
	"DATE_TO" TIMESTAMP,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POLL"
		ADD CONSTRAINT "EMT_POLL_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POLL_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_POLL_ITEM-------------------------------------------------- */

DROP TABLE "EMT_POLL_ITEM" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POLL_ITEM_SEQ";


CREATE TABLE "EMT_POLL_ITEM"
(
	"ID" NUMBER(15)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"POLL_ID" NUMBER(10)  NOT NULL,
	"DISPLAY_NAME" NVARCHAR2(255)  NOT NULL,
	"SEQUENCE_ID" NUMBER(3),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POLL_ITEM"
		ADD CONSTRAINT "EMT_POLL_ITEM_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POLL_ITEM_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_POLL_ITEM" ADD CONSTRAINT "EMT_POLL_ITEM_FK_1" FOREIGN KEY ("POLL_ID") REFERENCES "EMT_POLL" ("ID") ON DELETE CASCADE;


/* EMT_POLL_VOTE-------------------------------------------------- */

DROP TABLE "EMT_POLL_VOTE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POLL_VOTE_SEQ";


CREATE TABLE "EMT_POLL_VOTE"
(
	"ID" NUMBER(15)  NOT NULL,
	"ITEM_ID" NUMBER(15)  NOT NULL,
	"CLIENT_USER_ID" NUMBER(10),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POLL_VOTE"
		ADD CONSTRAINT "EMT_POLL_VOTE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POLL_VOTE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_POLL_VOTE" ADD CONSTRAINT "EMT_POLL_VOTE_FK_1" FOREIGN KEY ("ITEM_ID") REFERENCES "EMT_POLL_ITEM" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_POLL_VOTE" ADD CONSTRAINT "EMT_POLL_VOTE_FK_2" FOREIGN KEY ("CLIENT_USER_ID") REFERENCES "EMT_CLIENT_USER" ("ID") ON DELETE CASCADE;


/* EMT_CLIENT_DEVICE-------------------------------------------------- */

DROP TABLE "EMT_CLIENT_DEVICE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CLIENT_DEVICE_SEQ";


CREATE TABLE "EMT_CLIENT_DEVICE"
(
	"ID" NUMBER(15)  NOT NULL,
	"HASH" NVARCHAR2(32) default 'sys_guid()',
	"IP" NUMBER(16),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_CLIENT_DEVICE"
		ADD CONSTRAINT "EMT_CLIENT_DEVICE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CLIENT_DEVICE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_CLIENT_USER-------------------------------------------------- */

DROP TABLE "EMT_CLIENT_USER" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_CLIENT_USER_SEQ";


CREATE TABLE "EMT_CLIENT_USER"
(
	"ID" NUMBER(15)  NOT NULL,
	"USER_ID" NUMBER(10),
	"CLIENT_DEVICE_ID" NUMBER(15)  NOT NULL,
	"NAME_LASTNAME" NVARCHAR2(255),
	"EMAIL" NVARCHAR2(80),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_CLIENT_USER"
		ADD CONSTRAINT "EMT_CLIENT_USER_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_CLIENT_USER_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_CLIENT_USER" ADD CONSTRAINT "EMT_CLIENT_USER_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_CLIENT_USER" ADD CONSTRAINT "EMT_CLIENT_USER_FK_2" FOREIGN KEY ("CLIENT_DEVICE_ID") REFERENCES "EMT_CLIENT_DEVICE" ("ID") ON DELETE CASCADE;


/* EMT_IGNORE_ADVISE-------------------------------------------------- */

DROP TABLE "EMT_IGNORE_ADVISE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_IGNORE_ADVISE_SEQ";


CREATE TABLE "EMT_IGNORE_ADVISE"
(
	"ID" NUMBER(16)  NOT NULL,
	"USER_ID" NUMBER(10) default null,
	"RELATED_USER_ID" NUMBER(10) default null,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_IGNORE_ADVISE"
		ADD CONSTRAINT "EMT_IGNORE_ADVISE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_IGNORE_ADVISE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_IGNORE_ADVISE" ADD CONSTRAINT "EMT_IGNORE_ADVISE_FK_1" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_IGNORE_ADVISE" ADD CONSTRAINT "EMT_IGNORE_ADVISE_FK_2" FOREIGN KEY ("RELATED_USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;


/* EMT_WALL_POST-------------------------------------------------- */

DROP TABLE "EMT_WALL_POST" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_WALL_POST_SEQ";


CREATE TABLE "EMT_WALL_POST"
(
	"ID" NUMBER(16)  NOT NULL,
	"OWNER_ID" NUMBER(16),
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL,
	"POSTER_ID" NUMBER(16),
	"POSTER_TYPE_ID" NUMBER(3)  NOT NULL,
	"ITEM_ID" NUMBER(16),
	"ITEM_TYPE_ID" NUMBER(3)  NOT NULL,
	"TARGET_AUDIENCE" NUMBER(4)  NOT NULL,
	"AVAILABLE" NUMBER(1,0) default 1,
	"CREATED_AT" TIMESTAMP,
	"DELETED_AT_BY_OWNER" TIMESTAMP,
	"DELETED_AT_BY_POSTER" TIMESTAMP
);

	ALTER TABLE "EMT_WALL_POST"
		ADD CONSTRAINT "EMT_WALL_POST_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_WALL_POST_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_WALL_POST" ADD CONSTRAINT "EMT_WALL_POST_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_WALL_POST" ADD CONSTRAINT "EMT_WALL_POST_FK_2" FOREIGN KEY ("POSTER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_WALL_POST" ADD CONSTRAINT "EMT_WALL_POST_FK_3" FOREIGN KEY ("ITEM_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_WALL_POST" ADD CONSTRAINT "EMT_WALL_POST_FK_4" FOREIGN KEY ("TARGET_AUDIENCE") REFERENCES "EMT_ROLE" ("ID") ON DELETE RESTRICT;


/* EMT_WALL_IGNORE-------------------------------------------------- */

DROP TABLE "EMT_WALL_IGNORE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_WALL_IGNORE_SEQ";


CREATE TABLE "EMT_WALL_IGNORE"
(
	"ID" NUMBER(16)  NOT NULL,
	"IGNORE_USER_ID" NUMBER(10),
	"OWNER_ID" NUMBER(16),
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL,
	"POSTER_ID" NUMBER(16),
	"POSTER_TYPE_ID" NUMBER(3)  NOT NULL,
	"ITEM_ID" NUMBER(16),
	"ITEM_TYPE_ID" NUMBER(3)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_WALL_IGNORE"
		ADD CONSTRAINT "EMT_WALL_IGNORE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_WALL_IGNORE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_WALL_IGNORE" ADD CONSTRAINT "EMT_WALL_IGNORE_FK_1" FOREIGN KEY ("IGNORE_USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_WALL_IGNORE" ADD CONSTRAINT "EMT_WALL_IGNORE_FK_2" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_WALL_IGNORE" ADD CONSTRAINT "EMT_WALL_IGNORE_FK_3" FOREIGN KEY ("POSTER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_WALL_IGNORE" ADD CONSTRAINT "EMT_WALL_IGNORE_FK_4" FOREIGN KEY ("ITEM_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_POST_LINK-------------------------------------------------- */

DROP TABLE "EMT_POST_LINK" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POST_LINK_SEQ";


CREATE TABLE "EMT_POST_LINK"
(
	"ID" NUMBER(10)  NOT NULL,
	"URL" NVARCHAR2(500)  NOT NULL,
	"TITLE" NVARCHAR2(500),
	"MESSAGE" NVARCHAR2(1024),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POST_LINK"
		ADD CONSTRAINT "EMT_POST_LINK_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POST_LINK_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_POST_VIDEO-------------------------------------------------- */

DROP TABLE "EMT_POST_VIDEO" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POST_VIDEO_SEQ";


CREATE TABLE "EMT_POST_VIDEO"
(
	"ID" NUMBER(10)  NOT NULL,
	"URL" NVARCHAR2(500)  NOT NULL,
	"TITLE" NVARCHAR2(500),
	"MESSAGE" NVARCHAR2(1024),
	"VIDEO_ID" NVARCHAR2(50),
	"SERVICE_ID" NUMBER(2),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POST_VIDEO"
		ADD CONSTRAINT "EMT_POST_VIDEO_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POST_VIDEO_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_POST_LOCATION-------------------------------------------------- */

DROP TABLE "EMT_POST_LOCATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POST_LOCATION_SEQ";


CREATE TABLE "EMT_POST_LOCATION"
(
	"ID" NUMBER(10)  NOT NULL,
	"DATA" CLOB,
	"LATITUDE" NUMBER(19,7),
	"LONGITUDE" NUMBER(19,7),
	"COUNTRY" NVARCHAR2(5),
	"STATE" NUMBER(7),
	"CITY" NUMBER(7),
	"MESSAGE" NVARCHAR2(1024),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POST_LOCATION"
		ADD CONSTRAINT "EMT_POST_LOCATION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POST_LOCATION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_POST_LOCATION" ADD CONSTRAINT "EMT_POST_LOCATION_FK_1" FOREIGN KEY ("STATE") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;

ALTER TABLE "EMT_POST_LOCATION" ADD CONSTRAINT "EMT_POST_LOCATION_FK_2" FOREIGN KEY ("CITY") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;


/* EMT_POST_JOB-------------------------------------------------- */

DROP TABLE "EMT_POST_JOB" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POST_JOB_SEQ";


CREATE TABLE "EMT_POST_JOB"
(
	"ID" NUMBER(10)  NOT NULL,
	"TITLE" NVARCHAR2(255),
	"DESCRIPTION" CLOB,
	"REQUIREMENTS" CLOB,
	"RESPONSIBILITY" CLOB,
	"URL" NVARCHAR2(500)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POST_JOB"
		ADD CONSTRAINT "EMT_POST_JOB_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POST_JOB_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_POST_OPPORTUNITY-------------------------------------------------- */

DROP TABLE "EMT_POST_OPPORTUNITY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POST_OPPORTUNITY_SEQ";


CREATE TABLE "EMT_POST_OPPORTUNITY"
(
	"ID" NUMBER(10)  NOT NULL,
	"URL" NVARCHAR2(500)  NOT NULL,
	"TITLE" NVARCHAR2(500),
	"MESSAGE" NVARCHAR2(1024),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POST_OPPORTUNITY"
		ADD CONSTRAINT "EMT_POST_OPPORTUNITY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POST_OPPORTUNITY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_POST_STATUS-------------------------------------------------- */

DROP TABLE "EMT_POST_STATUS" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_POST_STATUS_SEQ";


CREATE TABLE "EMT_POST_STATUS"
(
	"ID" NUMBER(10)  NOT NULL,
	"TITLE" NVARCHAR2(500),
	"MESSAGE" NVARCHAR2(2000),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_POST_STATUS"
		ADD CONSTRAINT "EMT_POST_STATUS_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_POST_STATUS_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_LIKE_IT-------------------------------------------------- */

DROP TABLE "EMT_LIKE_IT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_LIKE_IT_SEQ";


CREATE TABLE "EMT_LIKE_IT"
(
	"ID" NUMBER(10)  NOT NULL,
	"POSTER_ID" NUMBER(10),
	"POSTER_TYPE_ID" NUMBER(3)  NOT NULL,
	"ITEM_ID" NUMBER(16),
	"ITEM_TYPE_ID" NUMBER(3)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_LIKE_IT"
		ADD CONSTRAINT "EMT_LIKE_IT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_LIKE_IT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_LIKE_IT" ADD CONSTRAINT "EMT_LIKE_IT_FK_1" FOREIGN KEY ("POSTER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_LIKE_IT" ADD CONSTRAINT "EMT_LIKE_IT_FK_2" FOREIGN KEY ("ITEM_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_OPTED_OUT_EMAIL-------------------------------------------------- */

DROP TABLE "EMT_OPTED_OUT_EMAIL" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_OPTED_OUT_EMAIL_SEQ";


CREATE TABLE "EMT_OPTED_OUT_EMAIL"
(
	"ID" NUMBER(10)  NOT NULL,
	"EMAIL" NVARCHAR2(80)  NOT NULL,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_OPTED_OUT_EMAIL"
		ADD CONSTRAINT "EMT_OPTED_OUT_EMAIL_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_OPTED_OUT_EMAIL_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_JOB_FUNCTION-------------------------------------------------- */

DROP TABLE "EMT_JOB_FUNCTION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_FUNCTION_SEQ";


CREATE TABLE "EMT_JOB_FUNCTION"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_JOB_FUNCTION"
		ADD CONSTRAINT "EMT_JOB_FUNCTION_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_JOB_FUNCTION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_JOB_FUNCTION_I18N-------------------------------------------------- */

DROP TABLE "EMT_JOB_FUNCTION_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_JOB_FUNCTION_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(200)  NOT NULL
);

	ALTER TABLE "EMT_JOB_FUNCTION_I18N"
		ADD CONSTRAINT "EMT_JOB_FUNCTION_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_JOB_FUNCTION_I18N" ADD CONSTRAINT "EMT_JOB_FUNCTION_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_JOB_FUNCTION" ("ID") ON DELETE CASCADE;


/* EMT_JOB_WORKING_SCHEME-------------------------------------------------- */

DROP TABLE "EMT_JOB_WORKING_SCHEME" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_WORKING_SCHEME_SEQ";


CREATE TABLE "EMT_JOB_WORKING_SCHEME"
(
	"ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_JOB_WORKING_SCHEME"
		ADD CONSTRAINT "EMT_JOB_WORKING_SCHEME_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_JOB_WORKING_SCHEME_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_JOB_WORKING_SCHEME_I18N-------------------------------------------------- */

DROP TABLE "EMT_JOB_WORKING_SCHEME_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_JOB_WORKING_SCHEME_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(200)  NOT NULL
);

	ALTER TABLE "EMT_JOB_WORKING_SCHEME_I18N"
		ADD CONSTRAINT "EMT_JOB_WORKING_SCHEME_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_JOB_WORKING_SCHEME_I18N" ADD CONSTRAINT "EMT_JOB_WORKING_SCHEME_I1_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_JOB_WORKING_SCHEME" ("ID") ON DELETE CASCADE;


/* EMT_JOB_SPECIAL_CASES-------------------------------------------------- */

DROP TABLE "EMT_JOB_SPECIAL_CASES" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_SPECIAL_CASES_SEQ";


CREATE TABLE "EMT_JOB_SPECIAL_CASES"
(
	"ID" NUMBER(4)  NOT NULL,
	"TYPE_ID" NUMBER(4)  NOT NULL,
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_JOB_SPECIAL_CASES"
		ADD CONSTRAINT "EMT_JOB_SPECIAL_CASES_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_JOB_SPECIAL_CASES_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_JOB_SPECIAL_CASES_I18N-------------------------------------------------- */

DROP TABLE "EMT_JOB_SPECIAL_CASES_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_JOB_SPECIAL_CASES_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(200)  NOT NULL
);

	ALTER TABLE "EMT_JOB_SPECIAL_CASES_I18N"
		ADD CONSTRAINT "EMT_JOB_SPECIAL_CASES_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_JOB_SPECIAL_CASES_I18N" ADD CONSTRAINT "EMT_JOB_SPECIAL_CASES_I18_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_JOB_SPECIAL_CASES" ("ID") ON DELETE CASCADE;


/* EMT_JOB_LOCATION-------------------------------------------------- */

DROP TABLE "EMT_JOB_LOCATION" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_LOCATION_SEQ";


CREATE TABLE "EMT_JOB_LOCATION"
(
	"ID" NUMBER(16)  NOT NULL,
	"JOB_ID" NUMBER(10)  NOT NULL,
	"COUNTRY_CODE" NVARCHAR2(7),
	"LOCATION_ID" NUMBER(7),
	"NO_OF_STAFF" NUMBER(6) default null
);

	ALTER TABLE "EMT_JOB_LOCATION"
		ADD CONSTRAINT "EMT_JOB_LOCATION_PK"
	PRIMARY KEY ("ID","JOB_ID");
CREATE SEQUENCE "EMT_JOB_LOCATION_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_JOB_LOCATION" ADD CONSTRAINT "EMT_JOB_LOCATION_FK_1" FOREIGN KEY ("JOB_ID") REFERENCES "EMT_JOB" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_JOB_LOCATION" ADD CONSTRAINT "EMT_JOB_LOCATION_FK_2" FOREIGN KEY ("LOCATION_ID") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE RESTRICT;


/* EMT_JOB_SPEC-------------------------------------------------- */

DROP TABLE "EMT_JOB_SPEC" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_SPEC_SEQ";


CREATE TABLE "EMT_JOB_SPEC"
(
	"ID" NUMBER(16)  NOT NULL,
	"JOB_ID" NUMBER(10)  NOT NULL,
	"TYPE_ID" NUMBER(4)  NOT NULL,
	"SPEC_ID" NUMBER(16)  NOT NULL
);

	ALTER TABLE "EMT_JOB_SPEC"
		ADD CONSTRAINT "EMT_JOB_SPEC_PK"
	PRIMARY KEY ("ID","JOB_ID");
CREATE SEQUENCE "EMT_JOB_SPEC_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_JOB_SPEC" ADD CONSTRAINT "EMT_JOB_SPEC_FK_1" FOREIGN KEY ("JOB_ID") REFERENCES "EMT_JOB" ("ID") ON DELETE CASCADE;


/* EMT_MARKETING_PACKAGE_PRICE-------------------------------------------------- */

DROP TABLE "EMT_MARKETING_PACKAGE_PRICE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MARKETING_PACKAGE_PR_SEQ_2";


CREATE TABLE "EMT_MARKETING_PACKAGE_PRICE"
(
	"ID" NUMBER(15)  NOT NULL,
	"PACKAGE_ID" NUMBER(10)  NOT NULL,
	"TARGET_ID" NUMBER(10),
	"TARGET_TYPE_ID" NUMBER(3)  NOT NULL,
	"ROLE_ID" NUMBER(4),
	"PRICE" NUMBER(10),
	"CURRENCY" NVARCHAR2(5),
	"REFERENCE_ID" NUMBER(10),
	"REFERENCE_TYPE_ID" NUMBER(3) default null,
	"TARGET_GEO_COUNTRY" NVARCHAR2(5),
	"TARGET_GEO_REGION_ID" NUMBER(7) default null,
	"VALID_FROM" TIMESTAMP,
	"VALID_UNTIL" TIMESTAMP,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_MARKETING_PACKAGE_PRICE"
		ADD CONSTRAINT "EMT_MARKETING_PACKAGE_PRICE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MARKETING_PACKAGE_PR_SEQ_2" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MARKETING_PACKAGE_PRICE" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_PRI_FK_1" FOREIGN KEY ("PACKAGE_ID") REFERENCES "EMT_MARKETING_PACKAGE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_MARKETING_PACKAGE_PRICE" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_PRI_FK_2" FOREIGN KEY ("TARGET_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_MARKETING_PACKAGE_PRICE" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_PRI_FK_3" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_MARKETING_PACKAGE_PRICE" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_PRI_FK_4" FOREIGN KEY ("REFERENCE_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_MARKETING_PACKAGE_PRICE" ADD CONSTRAINT "EMT_MARKETING_PACKAGE_PRI_FK_5" FOREIGN KEY ("TARGET_GEO_REGION_ID") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE RESTRICT;


/* EMT_JOB_PLUS-------------------------------------------------- */

DROP TABLE "EMT_JOB_PLUS" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_JOB_PLUS_SEQ";


CREATE TABLE "EMT_JOB_PLUS"
(
	"ID" NUMBER(10)  NOT NULL,
	"JOB_ID" NUMBER(10)  NOT NULL,
	"SERVICE_ID" NUMBER(10)  NOT NULL,
	"PURCHASE_ITEM_ID" NUMBER(10),
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_JOB_PLUS"
		ADD CONSTRAINT "EMT_JOB_PLUS_PK"
	PRIMARY KEY ("ID","JOB_ID");
CREATE SEQUENCE "EMT_JOB_PLUS_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_JOB_PLUS" ADD CONSTRAINT "EMT_JOB_PLUS_FK_1" FOREIGN KEY ("JOB_ID") REFERENCES "EMT_JOB" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_JOB_PLUS" ADD CONSTRAINT "EMT_JOB_PLUS_FK_2" FOREIGN KEY ("SERVICE_ID") REFERENCES "EMT_SERVICE" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_JOB_PLUS" ADD CONSTRAINT "EMT_JOB_PLUS_FK_3" FOREIGN KEY ("PURCHASE_ITEM_ID") REFERENCES "EMT_PURCHASE_ITEM" ("ID") ON DELETE NO ACTION;


/* EMT_PLATFORM_AD-------------------------------------------------- */

DROP TABLE "EMT_PLATFORM_AD" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PLATFORM_AD_SEQ";


CREATE TABLE "EMT_PLATFORM_AD"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"AD_NAMESPACE_ID" NVARCHAR2(500)  NOT NULL,
	"NAMESPACE_ID" NUMBER(3),
	"TITLE" NVARCHAR2(100)  NOT NULL,
	"MESSAGE" NVARCHAR2(256)  NOT NULL,
	"URL" NVARCHAR2(500)  NOT NULL,
	"LOCAL" NUMBER(1,0) default 0,
	"RELATED_COMPANY_ID" NUMBER(10) default null,
	"TYPE_ID" NUMBER(3)  NOT NULL,
	"VIEW_PERCENTAGE" NUMBER(4) default 1 NOT NULL,
	"CLICK_LIMIT" NUMBER(16) default 0,
	"VIEW_LIMIT" NUMBER(16) default 0,
	"VALID_FROM" TIMESTAMP,
	"VALID_UNTIL" TIMESTAMP,
	"STATUS" NUMBER(3) default 1,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PLATFORM_AD"
		ADD CONSTRAINT "EMT_PLATFORM_AD_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PLATFORM_AD_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PLATFORM_AD" ADD CONSTRAINT "EMT_PLATFORM_AD_FK_1" FOREIGN KEY ("NAMESPACE_ID") REFERENCES "EMT_PLATFORM_AD_NAMESPACE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_PLATFORM_AD" ADD CONSTRAINT "EMT_PLATFORM_AD_FK_2" FOREIGN KEY ("RELATED_COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE SET NULL;


/* EMT_PLATFORM_AD_EVENT-------------------------------------------------- */

DROP TABLE "EMT_PLATFORM_AD_EVENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PLATFORM_AD_EVENT_SEQ";


CREATE TABLE "EMT_PLATFORM_AD_EVENT"
(
	"ID" NUMBER(16)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"AD_ID" NUMBER(10)  NOT NULL,
	"CLIENT_IP" NUMBER(16),
	"TYPE_ID" NUMBER(3)  NOT NULL,
	"USER_ID" NUMBER(10) default null,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PLATFORM_AD_EVENT"
		ADD CONSTRAINT "EMT_PLATFORM_AD_EVENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PLATFORM_AD_EVENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PLATFORM_AD_EVENT" ADD CONSTRAINT "EMT_PLATFORM_AD_EVENT_FK_1" FOREIGN KEY ("AD_ID") REFERENCES "EMT_PLATFORM_AD" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_PLATFORM_AD_EVENT" ADD CONSTRAINT "EMT_PLATFORM_AD_EVENT_FK_2" FOREIGN KEY ("USER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE SET NULL;


/* EMT_PLATFORM_AD_NAMESPACE-------------------------------------------------- */

DROP TABLE "EMT_PLATFORM_AD_NAMESPACE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PLATFORM_AD_NAMESPACE_SEQ";


CREATE TABLE "EMT_PLATFORM_AD_NAMESPACE"
(
	"ID" NUMBER(3)  NOT NULL,
	"TITLE" NVARCHAR2(100)  NOT NULL,
	"AD_NAMESPACE" NVARCHAR2(500)  NOT NULL
);

	ALTER TABLE "EMT_PLATFORM_AD_NAMESPACE"
		ADD CONSTRAINT "EMT_PLATFORM_AD_NAMESPACE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PLATFORM_AD_NAMESPACE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_B2B_LEAD-------------------------------------------------- */

DROP TABLE "EMT_B2B_LEAD" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_B2B_LEAD_SEQ";


CREATE TABLE "EMT_B2B_LEAD"
(
	"ID" NUMBER(16)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"TYPE_ID" NUMBER(3)  NOT NULL,
	"CATEGORY_ID" NUMBER(10)  NOT NULL,
	"COMPANY_ID" NUMBER(10)  NOT NULL,
	"ACTIVE" NUMBER(1,0) default 0,
	"PAYMENT_TERMS" NVARCHAR2(200) default 'a:0:{}',
	"SHIPMENT_TERMS" NVARCHAR2(200) default 'a:0:{}',
	"DEFAULT_LANG" NVARCHAR2(7)  NOT NULL,
	"EXPIRES_AT" TIMESTAMP,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_B2B_LEAD"
		ADD CONSTRAINT "EMT_B2B_LEAD_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_B2B_LEAD_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;
CREATE INDEX "EMT_B2B_LEAD_I_1" ON "EMT_B2B_LEAD" ("CATEGORY_ID");
CREATE INDEX "EMT_B2B_LEAD_I_2" ON "EMT_B2B_LEAD" ("COMPANY_ID");

ALTER TABLE "EMT_B2B_LEAD" ADD CONSTRAINT "EMT_B2B_LEAD_FK_1" FOREIGN KEY ("CATEGORY_ID") REFERENCES "EMT_PRODUCT_CATEGORY" ("ID");

ALTER TABLE "EMT_B2B_LEAD" ADD CONSTRAINT "EMT_B2B_LEAD_FK_2" FOREIGN KEY ("COMPANY_ID") REFERENCES "EMT_COMPANY" ("ID") ON DELETE CASCADE;


/* EMT_B2B_LEAD_I18N-------------------------------------------------- */

DROP TABLE "EMT_B2B_LEAD_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_B2B_LEAD_I18N"
(
	"ID" NUMBER(16)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(128)  NOT NULL,
	"DESCRIPTION" NVARCHAR2(1800)
);

	ALTER TABLE "EMT_B2B_LEAD_I18N"
		ADD CONSTRAINT "EMT_B2B_LEAD_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_B2B_LEAD_I18N" ADD CONSTRAINT "EMT_B2B_LEAD_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_B2B_LEAD" ("ID") ON DELETE CASCADE;


/* EMT_TX_CATALOGUE-------------------------------------------------- */

DROP TABLE "EMT_TX_CATALOGUE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TX_CATALOGUE_SEQ";


CREATE TABLE "EMT_TX_CATALOGUE"
(
	"CAT_ID" NUMBER(11)  NOT NULL,
	"NAME" NVARCHAR2(100) default '' NOT NULL,
	"SOURCE_LANG" NVARCHAR2(100) default '' NOT NULL,
	"TARGET_LANG" NVARCHAR2(100) default '' NOT NULL,
	"DATE_CREATED" TIMESTAMP  NOT NULL,
	"DATE_MODIFIED" TIMESTAMP  NOT NULL,
	"AUTHOR" NVARCHAR2(255) default ''
);

	ALTER TABLE "EMT_TX_CATALOGUE"
		ADD CONSTRAINT "EMT_TX_CATALOGUE_PK"
	PRIMARY KEY ("CAT_ID");
CREATE SEQUENCE "EMT_TX_CATALOGUE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_TX_TRANS_UNIT-------------------------------------------------- */

DROP TABLE "EMT_TX_TRANS_UNIT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TX_TRANS_UNIT_SEQ";


CREATE TABLE "EMT_TX_TRANS_UNIT"
(
	"MSG_ID" NUMBER(11)  NOT NULL,
	"CAT_ID" NUMBER(11)  NOT NULL,
	"ID" NVARCHAR2(255) default '' NOT NULL,
	"SOURCE" CLOB,
	"TARGET" CLOB,
	"COMMENTS" CLOB,
	"DATE_ADDED" TIMESTAMP  NOT NULL,
	"DATE_MODIFIED" TIMESTAMP  NOT NULL,
	"AUTHOR" NVARCHAR2(255) default '' NOT NULL,
	"TRANSLATED" NUMBER(3,0) default 0 NOT NULL
);

	ALTER TABLE "EMT_TX_TRANS_UNIT"
		ADD CONSTRAINT "EMT_TX_TRANS_UNIT_PK"
	PRIMARY KEY ("MSG_ID");
CREATE SEQUENCE "EMT_TX_TRANS_UNIT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TX_TRANS_UNIT" ADD CONSTRAINT "EMT_TX_TRANS_UNIT_FK_1" FOREIGN KEY ("CAT_ID") REFERENCES "EMT_TX_CATALOGUE" ("CAT_ID") ON DELETE CASCADE;


/* EMT_PLACE_TYPE-------------------------------------------------- */

DROP TABLE "EMT_PLACE_TYPE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PLACE_TYPE_SEQ";


CREATE TABLE "EMT_PLACE_TYPE"
(
	"ID" NUMBER(3)  NOT NULL,
	"ACTIVE" NUMBER(1) default 1
);

	ALTER TABLE "EMT_PLACE_TYPE"
		ADD CONSTRAINT "EMT_PLACE_TYPE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PLACE_TYPE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_PLACE_TYPE_I18N-------------------------------------------------- */

DROP TABLE "EMT_PLACE_TYPE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PLACE_TYPE_I18N"
(
	"ID" NUMBER(3)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_PLACE_TYPE_I18N"
		ADD CONSTRAINT "EMT_PLACE_TYPE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PLACE_TYPE_I18N" ADD CONSTRAINT "EMT_PLACE_TYPE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PLACE_TYPE" ("ID") ON DELETE CASCADE;


/* EMT_PLACE-------------------------------------------------- */

DROP TABLE "EMT_PLACE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PLACE_SEQ";


CREATE TABLE "EMT_PLACE"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"OWNER_ID" NUMBER(10)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL,
	"TYPE_ID" NUMBER(3)  NOT NULL,
	"DEFAULT_LANG" NVARCHAR2(7),
	"LATITUDE" NUMBER(19,7),
	"LONGITUDE" NUMBER(19,7),
	"COUNTRY" NVARCHAR2(5),
	"STATE" NUMBER(7),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"IS_FEATURED" NUMBER(1,0) default 0,
	"CONTACT_ID" NUMBER(10)
);

	ALTER TABLE "EMT_PLACE"
		ADD CONSTRAINT "EMT_PLACE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PLACE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PLACE" ADD CONSTRAINT "EMT_PLACE_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_PLACE" ADD CONSTRAINT "EMT_PLACE_FK_2" FOREIGN KEY ("TYPE_ID") REFERENCES "EMT_PLACE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_PLACE" ADD CONSTRAINT "EMT_PLACE_FK_3" FOREIGN KEY ("STATE") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;

ALTER TABLE "EMT_PLACE" ADD CONSTRAINT "EMT_PLACE_FK_4" FOREIGN KEY ("CONTACT_ID") REFERENCES "EMT_CONTACT" ("ID") ON DELETE SET NULL;


/* EMT_PLACE_I18N-------------------------------------------------- */

DROP TABLE "EMT_PLACE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_PLACE_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"INTRODUCTION" NVARCHAR2(2000)
);

	ALTER TABLE "EMT_PLACE_I18N"
		ADD CONSTRAINT "EMT_PLACE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_PLACE_I18N" ADD CONSTRAINT "EMT_PLACE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_PLACE" ("ID") ON DELETE CASCADE;


/* EMT_TIME_SCHEME-------------------------------------------------- */

DROP TABLE "EMT_TIME_SCHEME" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TIME_SCHEME_SEQ";


CREATE TABLE "EMT_TIME_SCHEME"
(
	"ID" NUMBER(4)  NOT NULL,
	"START_DATE" TIMESTAMP  NOT NULL,
	"END_DATE" TIMESTAMP  NOT NULL,
	"REPEAT_TYPE_ID" NUMBER(3) default 1 NOT NULL
);

	ALTER TABLE "EMT_TIME_SCHEME"
		ADD CONSTRAINT "EMT_TIME_SCHEME_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TIME_SCHEME_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_EVENT_TYPE-------------------------------------------------- */

DROP TABLE "EMT_EVENT_TYPE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_EVENT_TYPE_SEQ";


CREATE TABLE "EMT_EVENT_TYPE"
(
	"ID" NUMBER(3)  NOT NULL,
	"ACTIVE" NUMBER(1) default 1,
	"TYPE_CLASS" NUMBER(3)
);

	ALTER TABLE "EMT_EVENT_TYPE"
		ADD CONSTRAINT "EMT_EVENT_TYPE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_EVENT_TYPE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_EVENT_TYPE_I18N-------------------------------------------------- */

DROP TABLE "EMT_EVENT_TYPE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_EVENT_TYPE_I18N"
(
	"ID" NUMBER(3)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_EVENT_TYPE_I18N"
		ADD CONSTRAINT "EMT_EVENT_TYPE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_EVENT_TYPE_I18N" ADD CONSTRAINT "EMT_EVENT_TYPE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_EVENT_TYPE" ("ID") ON DELETE CASCADE;


/* EMT_EVENT-------------------------------------------------- */

DROP TABLE "EMT_EVENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_EVENT_SEQ";


CREATE TABLE "EMT_EVENT"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"OWNER_ID" NUMBER(10)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3)  NOT NULL,
	"ORGANISER_ID" NUMBER(10) default null,
	"ORGANISER_TYPE_ID" NUMBER(3) default null,
	"ORGANISER_NAME" NVARCHAR2(255),
	"TYPE_ID" NUMBER(3),
	"TIME_SCHEME_ID" NUMBER(10),
	"DEFAULT_LANG" NVARCHAR2(7),
	"LOCATION_COUNTRY" NVARCHAR2(5),
	"LOCATION_STATE" NUMBER(7),
	"LOCATION_NAME" NVARCHAR2(100),
	"PLACE_ID" NUMBER(10),
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP,
	"IS_FEATURED" NUMBER(1,0) default 0 NOT NULL
);

	ALTER TABLE "EMT_EVENT"
		ADD CONSTRAINT "EMT_EVENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_EVENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_EVENT" ADD CONSTRAINT "EMT_EVENT_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_EVENT" ADD CONSTRAINT "EMT_EVENT_FK_2" FOREIGN KEY ("ORGANISER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_EVENT" ADD CONSTRAINT "EMT_EVENT_FK_3" FOREIGN KEY ("TYPE_ID") REFERENCES "EMT_EVENT_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_EVENT" ADD CONSTRAINT "EMT_EVENT_FK_4" FOREIGN KEY ("TIME_SCHEME_ID") REFERENCES "EMT_TIME_SCHEME" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_EVENT" ADD CONSTRAINT "EMT_EVENT_FK_5" FOREIGN KEY ("LOCATION_STATE") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE SET NULL;

ALTER TABLE "EMT_EVENT" ADD CONSTRAINT "EMT_EVENT_FK_6" FOREIGN KEY ("PLACE_ID") REFERENCES "EMT_PLACE" ("ID") ON DELETE RESTRICT;


/* EMT_EVENT_I18N-------------------------------------------------- */

DROP TABLE "EMT_EVENT_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_EVENT_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"INTRODUCTION" NVARCHAR2(2000)
);

	ALTER TABLE "EMT_EVENT_I18N"
		ADD CONSTRAINT "EMT_EVENT_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_EVENT_I18N" ADD CONSTRAINT "EMT_EVENT_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_EVENT" ("ID") ON DELETE CASCADE;


/* EMT_EVENT_INVITE-------------------------------------------------- */

DROP TABLE "EMT_EVENT_INVITE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_EVENT_INVITE_SEQ";


CREATE TABLE "EMT_EVENT_INVITE"
(
	"ID" NUMBER(10)  NOT NULL,
	"EVENT_ID" NUMBER(10)  NOT NULL,
	"SUBJECT_ID" NUMBER(16)  NOT NULL,
	"SUBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"INVITER_ID" NUMBER(16),
	"INVITER_TYPE_ID" NUMBER(3),
	"RSVP_STATUS" NUMBER(3)
);

	ALTER TABLE "EMT_EVENT_INVITE"
		ADD CONSTRAINT "EMT_EVENT_INVITE_PK"
	PRIMARY KEY ("ID","EVENT_ID");
CREATE SEQUENCE "EMT_EVENT_INVITE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_EVENT_INVITE" ADD CONSTRAINT "EMT_EVENT_INVITE_FK_1" FOREIGN KEY ("EVENT_ID") REFERENCES "EMT_EVENT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_EVENT_INVITE" ADD CONSTRAINT "EMT_EVENT_INVITE_FK_2" FOREIGN KEY ("SUBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;

ALTER TABLE "EMT_EVENT_INVITE" ADD CONSTRAINT "EMT_EVENT_INVITE_FK_3" FOREIGN KEY ("INVITER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;


/* EMT_TRANSFER_OWNERSHIP_REQUEST-------------------------------------------------- */

DROP TABLE "EMT_TRANSFER_OWNERSHIP_REQUEST" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TRANSFER_OWNERSHIP_R_SEQ_3";


CREATE TABLE "EMT_TRANSFER_OWNERSHIP_REQUEST"
(
	"ID" NUMBER(10)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"TRANSFER_CODE" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"ACCOUNT_ID" NUMBER(10)  NOT NULL,
	"ACCOUNT_TYPE_ID" NUMBER(3),
	"PROCESS_INIT_BY_ID" NUMBER(10)  NOT NULL,
	"CURRENT_OWNER_ID" NUMBER(10)  NOT NULL,
	"NEW_OWNER_ID" NUMBER(10)  NOT NULL,
	"EMAIL_ADDRESS" NVARCHAR2(80)  NOT NULL,
	"STATUS" NUMBER(3) default 0,
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_TRANSFER_OWNERSHIP_REQUEST"
		ADD CONSTRAINT "EMT_TRANSFER_OWNERSHIP_REQU_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TRANSFER_OWNERSHIP_R_SEQ_3" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TRANSFER_OWNERSHIP_REQUEST" ADD CONSTRAINT "EMT_TRANSFER_OWNERSHIP_RE_FK_1" FOREIGN KEY ("ACCOUNT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_TRANSFER_OWNERSHIP_REQUEST" ADD CONSTRAINT "EMT_TRANSFER_OWNERSHIP_RE_FK_2" FOREIGN KEY ("PROCESS_INIT_BY_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_TRANSFER_OWNERSHIP_REQUEST" ADD CONSTRAINT "EMT_TRANSFER_OWNERSHIP_RE_FK_3" FOREIGN KEY ("CURRENT_OWNER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_TRANSFER_OWNERSHIP_REQUEST" ADD CONSTRAINT "EMT_TRANSFER_OWNERSHIP_RE_FK_4" FOREIGN KEY ("NEW_OWNER_ID") REFERENCES "EMT_USER" ("ID") ON DELETE CASCADE;


/* EMT_ANNOUNCEMENT-------------------------------------------------- */

DROP TABLE "EMT_ANNOUNCEMENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ANNOUNCEMENT_SEQ";


CREATE TABLE "EMT_ANNOUNCEMENT"
(
	"ID" NUMBER(16)  NOT NULL,
	"GUID" NVARCHAR2(36) default 'sys_guid()' NOT NULL,
	"OWNER_ID" NUMBER(16)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3),
	"TITLE" NVARCHAR2(255)  NOT NULL,
	"CHANNEL_ID" NUMBER(3)  NOT NULL,
	"LAYOUT_ID" NUMBER(5) default null,
	"DELIVERY_MODE_ID" NUMBER(3)  NOT NULL,
	"DELIVER_FROM" TIMESTAMP,
	"DELIVER_BY" TIMESTAMP,
	"OBJECT_ID" NUMBER(16),
	"OBJECT_TYPE_ID" NUMBER(3),
	"CONTENT_TYPE_ID" NUMBER(3)  NOT NULL,
	"RECIPIENT_REP_CODE" NUMBER(3)  NOT NULL,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_ANNOUNCEMENT"
		ADD CONSTRAINT "EMT_ANNOUNCEMENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ANNOUNCEMENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_ANNOUNCEMENT" ADD CONSTRAINT "EMT_ANNOUNCEMENT_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_ANNOUNCEMENT" ADD CONSTRAINT "EMT_ANNOUNCEMENT_FK_2" FOREIGN KEY ("LAYOUT_ID") REFERENCES "EMT_EMAIL_LAYOUT" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_ANNOUNCEMENT" ADD CONSTRAINT "EMT_ANNOUNCEMENT_FK_3" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_ANNOUNCEMENT_I18N-------------------------------------------------- */

DROP TABLE "EMT_ANNOUNCEMENT_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_ANNOUNCEMENT_I18N"
(
	"ID" NUMBER(16)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"DISPLAY_TITLE" NVARCHAR2(255)  NOT NULL,
	"DATA" CLOB,
	"SMS_MESSAGE" CLOB
);

	ALTER TABLE "EMT_ANNOUNCEMENT_I18N"
		ADD CONSTRAINT "EMT_ANNOUNCEMENT_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_ANNOUNCEMENT_I18N" ADD CONSTRAINT "EMT_ANNOUNCEMENT_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_ANNOUNCEMENT" ("ID") ON DELETE CASCADE;


/* EMT_ANN_RECIPIENT-------------------------------------------------- */

DROP TABLE "EMT_ANN_RECIPIENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_ANN_RECIPIENT_SEQ";


CREATE TABLE "EMT_ANN_RECIPIENT"
(
	"ID" NUMBER(16)  NOT NULL,
	"ANN_ID" NUMBER(16),
	"RECIPIENT_ID" NUMBER(16)  NOT NULL,
	"RECIPIENT_TYPE_ID" NUMBER(3)  NOT NULL,
	"IS_READ" NUMBER(1,0) default 0,
	"CREATED_AT" TIMESTAMP,
	"DELIVERED_AT" TIMESTAMP,
	"DELETED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_ANN_RECIPIENT"
		ADD CONSTRAINT "EMT_ANN_RECIPIENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_ANN_RECIPIENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_ANN_RECIPIENT" ADD CONSTRAINT "EMT_ANN_RECIPIENT_FK_1" FOREIGN KEY ("ANN_ID") REFERENCES "EMT_ANNOUNCEMENT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_ANN_RECIPIENT" ADD CONSTRAINT "EMT_ANN_RECIPIENT_FK_2" FOREIGN KEY ("RECIPIENT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_EMAIL_LAYOUT-------------------------------------------------- */

DROP TABLE "EMT_EMAIL_LAYOUT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_EMAIL_LAYOUT_SEQ";


CREATE TABLE "EMT_EMAIL_LAYOUT"
(
	"ID" NUMBER(5)  NOT NULL,
	"OWNER_ID" NUMBER(16)  NOT NULL,
	"OWNER_TYPE_ID" NUMBER(3),
	"NAME" NVARCHAR2(100)  NOT NULL
);

	ALTER TABLE "EMT_EMAIL_LAYOUT"
		ADD CONSTRAINT "EMT_EMAIL_LAYOUT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_EMAIL_LAYOUT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_EMAIL_LAYOUT" ADD CONSTRAINT "EMT_EMAIL_LAYOUT_FK_1" FOREIGN KEY ("OWNER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_EMAIL_LAYOUT_I18N-------------------------------------------------- */

DROP TABLE "EMT_EMAIL_LAYOUT_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_EMAIL_LAYOUT_I18N"
(
	"ID" NUMBER(5)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"TITLE" NVARCHAR2(255),
	"CONTENT" CLOB,
	"DEFAULTS" CLOB
);

	ALTER TABLE "EMT_EMAIL_LAYOUT_I18N"
		ADD CONSTRAINT "EMT_EMAIL_LAYOUT_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_EMAIL_LAYOUT_I18N" ADD CONSTRAINT "EMT_EMAIL_LAYOUT_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_EMAIL_LAYOUT" ("ID") ON DELETE CASCADE;


/* EMT_COUNTRY-------------------------------------------------- */

DROP TABLE "EMT_COUNTRY" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_COUNTRY_SEQ";


CREATE TABLE "EMT_COUNTRY"
(
	"ID" NUMBER(3)  NOT NULL,
	"ISO" NVARCHAR2(2)  NOT NULL
);

	ALTER TABLE "EMT_COUNTRY"
		ADD CONSTRAINT "EMT_COUNTRY_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_COUNTRY_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_COUNTRY_I18N-------------------------------------------------- */

DROP TABLE "EMT_COUNTRY_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_COUNTRY_I18N"
(
	"ID" NUMBER(3)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_NAME" NVARCHAR2(255)  NOT NULL
);

	ALTER TABLE "EMT_COUNTRY_I18N"
		ADD CONSTRAINT "EMT_COUNTRY_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_COUNTRY_I18N" ADD CONSTRAINT "EMT_COUNTRY_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_COUNTRY" ("ID") ON DELETE CASCADE;


/* EMT_TRADE_EXPERT-------------------------------------------------- */

DROP TABLE "EMT_TRADE_EXPERT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TRADE_EXPERT_SEQ";


CREATE TABLE "EMT_TRADE_EXPERT"
(
	"ID" NUMBER(10)  NOT NULL,
	"HOLDER_ID" NUMBER(10)  NOT NULL,
	"HOLDER_TYPE_ID" NUMBER(3)  NOT NULL,
	"STATUS" NUMBER(2) default 0,
	"DEFAULT_LANG" NVARCHAR2(7),
	"IS_FEATURED" NUMBER(1,0) default 0
);

	ALTER TABLE "EMT_TRADE_EXPERT"
		ADD CONSTRAINT "EMT_TRADE_EXPERT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TRADE_EXPERT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TRADE_EXPERT" ADD CONSTRAINT "EMT_TRADE_EXPERT_FK_1" FOREIGN KEY ("HOLDER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_TRADE_EXPERT_I18N-------------------------------------------------- */

DROP TABLE "EMT_TRADE_EXPERT_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_TRADE_EXPERT_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_NAME" NVARCHAR2(255)  NOT NULL,
	"INTRODUCTION" CLOB
);

	ALTER TABLE "EMT_TRADE_EXPERT_I18N"
		ADD CONSTRAINT "EMT_TRADE_EXPERT_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_TRADE_EXPERT_I18N" ADD CONSTRAINT "EMT_TRADE_EXPERT_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_TRADE_EXPERT" ("ID") ON DELETE CASCADE;


/* EMT_TRADE_EXPERT_INDUSTRY-------------------------------------------------- */

DROP TABLE "EMT_TRADE_EXPERT_INDUSTRY" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_TRADE_EXPERT_INDUSTRY"
(
	"ID" NUMBER(10)  NOT NULL,
	"INDUSTRY_ID" NUMBER(4)  NOT NULL
);

	ALTER TABLE "EMT_TRADE_EXPERT_INDUSTRY"
		ADD CONSTRAINT "EMT_TRADE_EXPERT_INDUSTRY_PK"
	PRIMARY KEY ("ID","INDUSTRY_ID");
CREATE INDEX "EMT_TRADE_EXPERT_INDUSTRY_I_1" ON "EMT_TRADE_EXPERT_INDUSTRY" ("INDUSTRY_ID");

ALTER TABLE "EMT_TRADE_EXPERT_INDUSTRY" ADD CONSTRAINT "EMT_TRADE_EXPERT_INDUSTRY_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_TRADE_EXPERT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_TRADE_EXPERT_INDUSTRY" ADD CONSTRAINT "EMT_TRADE_EXPERT_INDUSTRY_FK_2" FOREIGN KEY ("INDUSTRY_ID") REFERENCES "EMT_BUSINESS_SECTOR" ("ID") ON DELETE RESTRICT;


/* EMT_TRADE_EXPERT_AREA-------------------------------------------------- */

DROP TABLE "EMT_TRADE_EXPERT_AREA" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_TRADE_EXPERT_AREA"
(
	"ID" NUMBER(10)  NOT NULL,
	"COUNTRY" NVARCHAR2(5),
	"STATE" NUMBER(7),
	"CITY" NVARCHAR2(50)
);

	ALTER TABLE "EMT_TRADE_EXPERT_AREA"
		ADD CONSTRAINT "EMT_TRADE_EXPERT_AREA_PK"
	PRIMARY KEY ("ID");

ALTER TABLE "EMT_TRADE_EXPERT_AREA" ADD CONSTRAINT "EMT_TRADE_EXPERT_AREA_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_TRADE_EXPERT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_TRADE_EXPERT_AREA" ADD CONSTRAINT "EMT_TRADE_EXPERT_AREA_FK_2" FOREIGN KEY ("STATE") REFERENCES "EXT_GEONAME" ("GEONAME_ID") ON DELETE RESTRICT;


/* EMT_MESSAGE_TYPE-------------------------------------------------- */

DROP TABLE "EMT_MESSAGE_TYPE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_MESSAGE_TYPE_SEQ";


CREATE TABLE "EMT_MESSAGE_TYPE"
(
	"ID" NUMBER(4)  NOT NULL,
	"APPLICATION_ID" NUMBER(10)  NOT NULL,
	"BUILT_IN" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_MESSAGE_TYPE"
		ADD CONSTRAINT "EMT_MESSAGE_TYPE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_MESSAGE_TYPE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_MESSAGE_TYPE" ADD CONSTRAINT "EMT_MESSAGE_TYPE_FK_1" FOREIGN KEY ("APPLICATION_ID") REFERENCES "EMT_APPLICATION" ("ID") ON DELETE RESTRICT;


/* EMT_MESSAGE_TYPE_I18N-------------------------------------------------- */

DROP TABLE "EMT_MESSAGE_TYPE_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_MESSAGE_TYPE_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL,
	"DESCRIPTION" NVARCHAR2(255)
);

	ALTER TABLE "EMT_MESSAGE_TYPE_I18N"
		ADD CONSTRAINT "EMT_MESSAGE_TYPE_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_MESSAGE_TYPE_I18N" ADD CONSTRAINT "EMT_MESSAGE_TYPE_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_MESSAGE_TYPE" ("ID") ON DELETE CASCADE;


/* EMT_TRADE_EXPERT_CLIENT-------------------------------------------------- */

DROP TABLE "EMT_TRADE_EXPERT_CLIENT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TRADE_EXPERT_CLIENT_SEQ";


CREATE TABLE "EMT_TRADE_EXPERT_CLIENT"
(
	"ID" NUMBER(10)  NOT NULL,
	"TRADE_EXPERT_ID" NUMBER(10)  NOT NULL,
	"CLIENT_ID" NUMBER(10)  NOT NULL,
	"CLIENT_TYPE_ID" NUMBER(3)  NOT NULL,
	"ACTIVE" NUMBER(1,0) default 0 NOT NULL,
	"STATUS" NUMBER(2) default 0
);

	ALTER TABLE "EMT_TRADE_EXPERT_CLIENT"
		ADD CONSTRAINT "EMT_TRADE_EXPERT_CLIENT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TRADE_EXPERT_CLIENT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TRADE_EXPERT_CLIENT" ADD CONSTRAINT "EMT_TRADE_EXPERT_CLIENT_FK_1" FOREIGN KEY ("TRADE_EXPERT_ID") REFERENCES "EMT_TRADE_EXPERT" ("ID") ON DELETE CASCADE;

ALTER TABLE "EMT_TRADE_EXPERT_CLIENT" ADD CONSTRAINT "EMT_TRADE_EXPERT_CLIENT_FK_2" FOREIGN KEY ("CLIENT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_TASK-------------------------------------------------- */

DROP TABLE "EMT_TASK" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TASK_SEQ";


CREATE TABLE "EMT_TASK"
(
	"ID" NUMBER(16)  NOT NULL,
	"STAFF_ID" NUMBER(10)  NOT NULL,
	"STAFF_TYPE_ID" NUMBER(3)  NOT NULL,
	"ROLE_ID" NUMBER(4)  NOT NULL,
	"OBJECT_ID" NUMBER(16)  NOT NULL,
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"ACTION_ID" NUMBER(5),
	"START_DATE" TIMESTAMP  NOT NULL,
	"END_DATE" TIMESTAMP  NOT NULL,
	"STATUS" NUMBER(2) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_TASK"
		ADD CONSTRAINT "EMT_TASK_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TASK_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TASK" ADD CONSTRAINT "EMT_TASK_FK_1" FOREIGN KEY ("STAFF_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_TASK" ADD CONSTRAINT "EMT_TASK_FK_2" FOREIGN KEY ("ROLE_ID") REFERENCES "EMT_ROLE" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_TASK" ADD CONSTRAINT "EMT_TASK_FK_3" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;

ALTER TABLE "EMT_TASK" ADD CONSTRAINT "EMT_TASK_FK_4" FOREIGN KEY ("ACTION_ID") REFERENCES "EMT_ACTION" ("ID") ON DELETE SET NULL;


/* EMT_FINANCE_TICKER_ITEM-------------------------------------------------- */

DROP TABLE "EMT_FINANCE_TICKER_ITEM" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_FINANCE_TICKER_ITEM_SEQ";


CREATE TABLE "EMT_FINANCE_TICKER_ITEM"
(
	"ID" NUMBER(4)  NOT NULL,
	"TYPE_ID" NUMBER(3),
	"COUNTRY_CODE" NVARCHAR2(10),
	"IS_GLOBAL" NUMBER(1,0),
	"SYMBOL_GOOGLE" NVARCHAR2(50),
	"SYMBOL_YAHOO" NVARCHAR2(50),
	"SYMBOL_OTHER" NVARCHAR2(50),
	"ACTIVE" NUMBER(1,0)  NOT NULL
);

	ALTER TABLE "EMT_FINANCE_TICKER_ITEM"
		ADD CONSTRAINT "EMT_FINANCE_TICKER_ITEM_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_FINANCE_TICKER_ITEM_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;


/* EMT_FINANCE_TICKER_ITEM_I18N-------------------------------------------------- */

DROP TABLE "EMT_FINANCE_TICKER_ITEM_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_FINANCE_TICKER_ITEM_I18N"
(
	"ID" NUMBER(4)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(50)  NOT NULL
);

	ALTER TABLE "EMT_FINANCE_TICKER_ITEM_I18N"
		ADD CONSTRAINT "EMT_FINANCE_TICKER_ITEM_I18_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_FINANCE_TICKER_ITEM_I18N" ADD CONSTRAINT "EMT_FINANCE_TICKER_ITEM_I_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_FINANCE_TICKER_ITEM" ("ID") ON DELETE CASCADE;


/* EMT_FINANCE_TICKER_DATA-------------------------------------------------- */

DROP TABLE "EMT_FINANCE_TICKER_DATA" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_FINANCE_TICKER_DATA_SEQ";


CREATE TABLE "EMT_FINANCE_TICKER_DATA"
(
	"ID" NUMBER(16)  NOT NULL,
	"ITEM_ID" NUMBER(4)  NOT NULL,
	"DATA" FLOAT(16,2)  NOT NULL,
	"CHANGE" FLOAT(16,2),
	"CHANGE_PERCENT" FLOAT(16,2),
	"CREATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_FINANCE_TICKER_DATA"
		ADD CONSTRAINT "EMT_FINANCE_TICKER_DATA_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_FINANCE_TICKER_DATA_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_FINANCE_TICKER_DATA" ADD CONSTRAINT "EMT_FINANCE_TICKER_DATA_FK_1" FOREIGN KEY ("ITEM_ID") REFERENCES "EMT_FINANCE_TICKER_ITEM" ("ID") ON DELETE CASCADE;


/* EMT_TRANSLATOR-------------------------------------------------- */

DROP TABLE "EMT_TRANSLATOR" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TRANSLATOR_SEQ";


CREATE TABLE "EMT_TRANSLATOR"
(
	"ID" NUMBER(10)  NOT NULL,
	"CORPORATE_ACCOUNT" NUMBER(10) default null,
	"HOLDER_ID" NUMBER(10)  NOT NULL,
	"HOLDER_TYPE_ID" NUMBER(3)  NOT NULL,
	"STATUS" NUMBER(2) default 0,
	"DEFAULT_LANG" NVARCHAR2(7),
	"IS_FEATURED" NUMBER(1,0) default 0
);

	ALTER TABLE "EMT_TRANSLATOR"
		ADD CONSTRAINT "EMT_TRANSLATOR_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TRANSLATOR_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TRANSLATOR" ADD CONSTRAINT "EMT_TRANSLATOR_FK_1" FOREIGN KEY ("CORPORATE_ACCOUNT") REFERENCES "EMT_TRANSLATOR" ("ID") ON DELETE SET NULL;

ALTER TABLE "EMT_TRANSLATOR" ADD CONSTRAINT "EMT_TRANSLATOR_FK_2" FOREIGN KEY ("HOLDER_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE RESTRICT;


/* EMT_TRANSLATOR_I18N-------------------------------------------------- */

DROP TABLE "EMT_TRANSLATOR_I18N" CASCADE CONSTRAINTS;


CREATE TABLE "EMT_TRANSLATOR_I18N"
(
	"ID" NUMBER(10)  NOT NULL,
	"CULTURE" NVARCHAR2(7)  NOT NULL,
	"NAME" NVARCHAR2(255)  NOT NULL,
	"STRIPPED_NAME" NVARCHAR2(255)  NOT NULL,
	"INTRODUCTION" CLOB
);

	ALTER TABLE "EMT_TRANSLATOR_I18N"
		ADD CONSTRAINT "EMT_TRANSLATOR_I18N_PK"
	PRIMARY KEY ("ID","CULTURE");

ALTER TABLE "EMT_TRANSLATOR_I18N" ADD CONSTRAINT "EMT_TRANSLATOR_I18N_FK_1" FOREIGN KEY ("ID") REFERENCES "EMT_TRANSLATOR" ("ID") ON DELETE CASCADE;


/* EMT_TRANSLATOR_LANGUAGE-------------------------------------------------- */

DROP TABLE "EMT_TRANSLATOR_LANGUAGE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TRANSLATOR_LANGUAGE_SEQ";


CREATE TABLE "EMT_TRANSLATOR_LANGUAGE"
(
	"ID" NUMBER(10)  NOT NULL,
	"TRANSLATOR_ID" NUMBER(4)  NOT NULL,
	"LANGUAGE" NVARCHAR2(7)  NOT NULL,
	"NATIVE" NUMBER(1,0),
	"LEVEL_READ" NUMBER(4),
	"LEVEL_WRITE" NUMBER(4),
	"LEVEL_SPEAK" NUMBER(4)
);

	ALTER TABLE "EMT_TRANSLATOR_LANGUAGE"
		ADD CONSTRAINT "EMT_TRANSLATOR_LANGUAGE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TRANSLATOR_LANGUAGE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TRANSLATOR_LANGUAGE" ADD CONSTRAINT "EMT_TRANSLATOR_LANGUAGE_FK_1" FOREIGN KEY ("TRANSLATOR_ID") REFERENCES "EMT_TRANSLATOR" ("ID") ON DELETE CASCADE;


/* EMT_TRANSLATOR_COUPLE-------------------------------------------------- */

DROP TABLE "EMT_TRANSLATOR_COUPLE" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_TRANSLATOR_COUPLE_SEQ";


CREATE TABLE "EMT_TRANSLATOR_COUPLE"
(
	"ID" NUMBER(10)  NOT NULL,
	"TRANSLATOR_ID" NUMBER(4)  NOT NULL,
	"SOURCE_LANG" NVARCHAR2(7)  NOT NULL,
	"TARGET_LANG" NVARCHAR2(7)  NOT NULL,
	"TWO_WAY" NUMBER(1,0),
	"CAN_INTERPRET" NUMBER(1,0),
	"LEVEL_INTERPRET" NUMBER(4)
);

	ALTER TABLE "EMT_TRANSLATOR_COUPLE"
		ADD CONSTRAINT "EMT_TRANSLATOR_COUPLE_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_TRANSLATOR_COUPLE_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_TRANSLATOR_COUPLE" ADD CONSTRAINT "EMT_TRANSLATOR_COUPLE_FK_1" FOREIGN KEY ("TRANSLATOR_ID") REFERENCES "EMT_TRANSLATOR" ("ID") ON DELETE CASCADE;


/* EMT_PREMIUM_ACCOUNT-------------------------------------------------- */

DROP TABLE "EMT_PREMIUM_ACCOUNT" CASCADE CONSTRAINTS;

DROP SEQUENCE "EMT_PREMIUM_ACCOUNT_SEQ";


CREATE TABLE "EMT_PREMIUM_ACCOUNT"
(
	"ID" NUMBER(10)  NOT NULL,
	"OBJECT_ID" NUMBER(10),
	"OBJECT_TYPE_ID" NUMBER(3)  NOT NULL,
	"ACCOUNT_TYPE_ID" NUMBER(3)  NOT NULL,
	"VALID_FROM" TIMESTAMP  NOT NULL,
	"VALID_TO" TIMESTAMP,
	"STATUS" NUMBER(2) default 0,
	"CREATED_AT" TIMESTAMP,
	"UPDATED_AT" TIMESTAMP
);

	ALTER TABLE "EMT_PREMIUM_ACCOUNT"
		ADD CONSTRAINT "EMT_PREMIUM_ACCOUNT_PK"
	PRIMARY KEY ("ID");
CREATE SEQUENCE "EMT_PREMIUM_ACCOUNT_SEQ" INCREMENT BY 1 START WITH 1 NOMAXVALUE NOCYCLE NOCACHE ORDER;

ALTER TABLE "EMT_PREMIUM_ACCOUNT" ADD CONSTRAINT "EMT_PREMIUM_ACCOUNT_FK_1" FOREIGN KEY ("OBJECT_TYPE_ID") REFERENCES "EMT_PRIVACY_NODE_TYPE" ("ID") ON DELETE NO ACTION;
